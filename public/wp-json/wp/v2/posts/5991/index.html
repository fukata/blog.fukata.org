{"id":5991,"date":"2011-07-27T12:37:37","date_gmt":"2011-07-27T03:37:37","guid":{"rendered":"http:\/\/fukata.org\/?p=5991"},"modified":"2017-08-11T22:58:49","modified_gmt":"2017-08-11T22:58:49","slug":"codeigniter2-ciunit2-jenkins-continuous-integration","status":"publish","type":"post","link":"https:\/\/blog.fukata.org\/archives\/5991\/","title":{"rendered":"CodeIgniter2 + CIUnit2 + Jenkins\u3067\u7d99\u7d9a\u7684\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u3084\u3063\u3066\u307f\u305f"},"content":{"rendered":"<p>\u306a\u3093\u304b\u3001\u8272\u3005\u3068\u610f\u6c17\u6d88\u6c88\u6c17\u5473\u3060\u3063\u305f\u306e\u3067\u3001\u6771\u4eac\u304b\u3089\u4e0a\u6d77\u306b\u623b\u3063\u3066\u304f\u308b\u6642\u306bVM\u306e\u69cb\u7bc9\u3092\u9014\u4e2d\u307e\u3067\u884c\u3063\u3066\u3044\u305fJenkins\u3092\u5c11\u3057\u89e6\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\u3068\u308a\u3042\u3048\u305a\u3001\u76ee\u7684\u3068\u3057\u3066\u306f\u3001\u8868\u984c\u306b\u3082\u66f8\u3044\u3066\u3044\u308b\u901a\u308a\u3001CodeIgniter2(2.0.2), CIUnit2(\u30ab\u30b9\u30bf\u30e0\u7248\uff09, Jenkins\u3092\u4f7f\u3063\u3066\u3001\u30d3\u30eb\u30c9\u304b\u3089\u30c6\u30b9\u30c8\u3001\u30b3\u30fc\u30c9\u30c1\u30a7\u30c3\u30af\u307e\u3067\u884c\u3048\u308b\u74b0\u5883\u3092\u4f5c\u308b\u3053\u3068\u3067\u3059\u3002<\/p>\n<p>\u307e\u305f\u3001\u4eca\u56de\u4f7f\u7528\u3057\u305f\u30bd\u30fc\u30b9\u306f\u4e0b\u8a18\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u30a2\u30c3\u30d7\u3057\u3066\u3044\u307e\u3059\u3002<\/p>\n<p><a href=\"https:\/\/github.com\/fukata\/ciunit2_and_jenkins\">fukata\/ciunit2_and_jenkins &#8211; GitHub<\/a><\/p>\n<p>PHP\u306b\u3088\u308bJenkins\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306a\u3069\u306b\u3064\u3044\u3066\u306f\u3001\u4e0b\u8a18\u306e\u30b5\u30a4\u30c8\u304c\u3068\u3066\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\u3002<\/p>\n<p><a href=\"https:\/\/d.hatena.ne.jp\/Yamashiro0217\/20110619\/1308491991\">PHP\u3067TDD&#038;CI\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3001Jenkins + PHP \u306e\u5404\u7a2e\u30d7\u30e9\u30b0\u30a4\u30f3\u30d1\u30fc\u30c8\u8cc7\u6599 &#8211; Yamashiro0217\u306e\u65e5\u8a18<\/a><br \/>\n<a href=\"https:\/\/blog.symfony.jp\/2011\/03\/19\/307\">Symfony2\u3067Jenkins\u3092\u4f7f\u3063\u3066CI \u00ab symfony\u3067\u958b\u767a\u65e5\u8a18<\/a><\/p>\n<p>\u4eca\u56de\u306fUbuntu 10.04 Server\u7248\u3092\u4f7f\u3063\u305f\u305f\u3081\u3001Jenkins\u306fapt\u7248\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f<a href=\"https:\/\/pkg.jenkins-ci.org\/debian\/\" target=\"_blank\">\u3053\u3053\u306b<\/a>\u66f8\u304b\u308c\u3066\u3044\u308b\u901a\u308a\u3067\u3059\u3002<\/p>\n<pre lang=\"BASH\">\r\nwget -q -O - https:\/\/pkg.jenkins-ci.org\/debian\/jenkins-ci.org.key | sudo apt-key add -\r\nsudo vim \/etc\/apt\/sources.list\r\n> \u672b\u5c3e\u306b\u8ffd\u52a0: deb https:\/\/pkg.jenkins-ci.org\/debian binary\/\r\nsudo apt-get update\r\nsudo apt-get install jenkins\r\n<\/pre>\n<h3>build.xml\u4f5c\u6210<\/h3>\n<p>Jenkins\u304b\u3089\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u969b\u306b\u4f7f\u7528\u3059\u308bbuild.xml\u306f\u4e0a\u8a18\u306e\u30b5\u30a4\u30c8\u3067\u3082\u884c\u308f\u308c\u3066\u3044\u308bppw\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002\u4eca\u56de\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3060\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002<\/p>\n<pre lang=\"BASH\">\r\ncd ciunit2_and_jenkins\r\nppw --name ciunit2_and_jenkins --source .\/src\/application\/ --tests .\/src\/application\/tests\/ --bootstrap .\/src\/application\/third_party\/CIUnit\/bootstrap_phpunit.php --phpcs PEAR .\r\n<\/pre>\n<p>\u305f\u3060\u3001CIUnit\u306e\u5834\u5408\u3001source\u3067\u6307\u5b9a\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306bCIUnit\u3084tests\u30b3\u30fc\u30c9\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u70ba\u3001\u3053\u308c\u3089\u3092\u89e3\u6790\u5bfe\u8c61\u304b\u3089\u9664\u5916\u3057\u305f\u3044\u5834\u5408\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3001\u751f\u6210\u3055\u308c\u305fbuild.xml\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002<\/p>\n<pre lang=\"DIFF\">\r\n--- build.xml\t2011-07-27 10:41:01.164477818 +0800\r\n+++ build.xml.new\t2011-07-27 10:40:51.814477818 +0800\r\n@@ -49,7 +49,8 @@\r\n    <arg line=\"${source}\r\n               xml\r\n               codesize,design,naming,unusedcode\r\n-              --reportfile ${basedir}\/build\/logs\/pmd.xml\"><\/arg>\r\n+              --reportfile ${basedir}\/build\/logs\/pmd.xml\r\n+              --exclude third_party\/CIUnit\/\" \/>\r\n   \r\n  \r\n \r\n@@ -61,7 +62,7 @@\r\n \r\n  <target name=\"phploc\" description=\"Generate phploc.csv\">\r\n   <exec executable=\"phploc\">\r\n-   <arg line=\"--log-csv ${basedir}\/build\/logs\/phploc.csv ${source}\"><\/arg>\r\n+   <arg line=\"--log-csv ${basedir}\/build\/logs\/phploc.csv --exclude ${source}third_party\/CIUnit ${source}\"><\/arg>\r\n   <\/exec>\r\n  <\/target>\r\n \r\n@@ -70,13 +71,14 @@\r\n    <arg line=\"--report=checkstyle\r\n               --report-file=${basedir}\/build\/logs\/checkstyle.xml\r\n               --standard=PEAR\r\n+              --ignore=tests\/,third_party\/CIUnit\r\n               ${source}\"><\/arg>\r\n   \r\n  \r\n \r\n  <target name=\"phpdoc\" description=\"Generate API documentation using PHPDocumentor\">\r\n   <exec executable=\"phpdoc\">\r\n-   <arg line=\"-d ${source} -t ${basedir}\/build\/api\"><\/arg>\r\n+   <arg line=\"-d ${source} -t ${basedir}\/build\/api -i third_party\/CIUnit\/\"><\/arg>\r\n   <\/exec>\r\n  <\/target>\r\n<\/pre>\n<h3>CodeIgniter\u7528\u306eCodeSniffer<\/h3>\n<p>ppw\u30b3\u30de\u30f3\u30c9\u306e&#8211;phpcs\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30b3\u30fc\u30c9\u306e\u30b9\u30bf\u30a4\u30eb\u30c1\u30a7\u30c3\u30af\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u9078\u3079\u307e\u3059\u3002\u5148\u307b\u3069\u306e\u30b3\u30de\u30f3\u30c9\u3067\u306fPEAR\u3092\u9078\u629e\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u3082PEAR\uff09\u3057\u305f\u306e\u3067\u3059\u304c\u3001PEAR\u306e\u30b3\u30fc\u30c9\u898f\u7d04\u3068CodeIgniter\u306e\u30b3\u30fc\u30c9\u898f\u7d04\u304c\u3068\u3053\u308d\u3069\u3053\u308d\u7570\u306a\u3063\u3066\u304a\u308a\u3001CodeIgniter\u306e\u898f\u7d04\u7684\u306b\u306f\u6b63\u3057\u3044\u306e\u306b\u9593\u9055\u3063\u3066\u308b\u3068\u8b66\u544a\u3055\u308c\u307e\u3059\u3002<\/p>\n<p>\u4e0a\u8a18\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306bphpcs\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u3001linux\u306e\u5834\u5408\u3001\u4e0b\u8a18\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002<\/p>\n<pre lang=\"BASH\">\r\n\/usr\/share\/php\/PHP\/CodeSniffer\/Standards\r\n<\/pre>\n<p>\u521d\u671f\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306e\u306f\u3001\u4e0b\u8a18\u306e\u307f\u3067\u3059\u3002<\/p>\n<pre lang=\"BASH\">\r\nphpcs -i\r\nThe installed coding standards are PEAR, MySource, PHPCS, Squiz and Zend\r\n<\/pre>\n<p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3092\u53c2\u8003\u306bCodeIgniter\u7528\u306eCodeSniffer\u3092\u4f5c\u6210\u3059\u308c\u3070\u3001\u30b3\u30fc\u30c9\u30c1\u30a7\u30c3\u30af\u306b\u3064\u3044\u3066\u3082\u6b63\u5e38\u306b\u884c\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002<\/p>\n<p>\u3067\u3001\u5c11\u3057\u63a2\u3057\u3066\u307f\u305f\u306e\u3067\u3059\u304c\u3001CodeIgniter\u7528\u306eCodeSniffer\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3082\u3057\u307e\u305b\u3093\u3002\u3068\u308a\u3042\u3048\u305a\u3001\u5148\u8d70\u308a\u6c17\u5473\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u3060\u3051\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002<\/p>\n<p><del datetime=\"2011-07-27T06:13:08+00:00\">fukata\/codesniffer_codeigniter &#8211; GitHub<\/del><\/p>\n<p>@<a href=\"https:\/\/twitter.com\/#!\/yterajima\">yterajima<\/a>\u3055\u3093\u304b\u3089\u4e0b\u8a18\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u6559\u3048\u3066\u3082\u3089\u3063\u305f\u306e\u3067\u3001\u3053\u308c\u3092fork\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002<br \/>\n<a href=\"https:\/\/github.com\/thomas-ernest\/CodeIgniter-for-PHP_CodeSniffer\">thomas-ernest\/CodeIgniter-for-PHP_CodeSniffer &#8211; GitHub<\/a><\/p>\n<h3>\u304a\u307e\u3051\uff1agithub\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u5229\u7528\u3059\u308b<\/h3>\n<p>jenkins\u306egit plugin\u304b\u3089github\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u5229\u7528\u3059\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u305d\u306e\u6642\u306b\u306f\u307e\u3063\u305f\u3053\u3068\u306b\u3064\u3044\u3066\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002<\/p>\n<p>\u306f\u307e\u3063\u305f\u306e\u306f\u3001git\u3078\u63a5\u7d9a\u3059\u308b\u969b\u306b\u5229\u7528\u3059\u308bssh key\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u3067\u3059\u3002<\/p>\n<p>apt\u7248jenkins\u306e\u5834\u5408\u3001jenkins\u306e\u5b9f\u884c\u306b\u306fjenkins\u30e6\u30fc\u30b6\u304c\u884c\u3063\u3066\u3044\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\u305d\u306ejenkins\u30e6\u30fc\u30b6\u306e\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\/var\/lib\/jenkins\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001\/var\/lib\/jenkins\/.ssh\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u3053\u306b\u5fc5\u8981\u306a\u9375\u7b49\u3092\u5165\u308c\u307e\u3059\u3002\u3067\u3001\u6b21\u306bjenkins\u30e6\u30fc\u30b6\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067github\u306b\u4e00\u5ea6\u7e4b\u3044\u3067\u304a\u304d\u307e\u3059\u3002<\/p>\n<pre lang=\"BASH\">\r\nssh git@github.com\r\n<\/pre>\n<p>\u3053\u308c\u3067\u3001jenkins\u3067\u3001github\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u5bfe\u3057\u3066git clone\u3092\u6b63\u5e38\u306b\u884c\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002<\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u306a\u3093\u304b\u3001\u8272\u3005\u3068\u610f\u6c17\u6d88\u6c88\u6c17\u5473\u3060\u3063\u305f\u306e\u3067\u3001\u6771\u4eac\u304b\u3089\u4e0a\u6d77\u306b\u623b\u3063\u3066\u304f\u308b\u6642\u306bVM\u306e\u69cb\u7bc9\u3092\u9014\u4e2d\u307e\u3067\u884c\u3063\u3066\u3044\u305fJenkins\u3092\u5c11\u3057\u89e6\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\u3068\u308a\u3042\u3048\u305a\u3001\u76ee\u7684\u3068\u3057\u3066\u306f\u3001\u8868\u984c\u306b\u3082\u66f8\u3044\u3066\u3044\u308b\u901a\u308a\u3001Code &#8230; <a href=\"https:\/\/blog.fukata.org\/archives\/5991\/\"> \u7d9a\u304d\u3092\u8aad\u3080<\/a><\/p>\n","protected":false},"author":2,"featured_media":9223372036854775807,"comment_status":"closed","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[1980],"tags":[876,850,884,883],"_links":{"self":[{"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/posts\/5991"}],"collection":[{"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/comments?post=5991"}],"version-history":[{"count":0,"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/posts\/5991\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/media\/9223372036854775807"}],"wp:attachment":[{"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/media?parent=5991"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/categories?post=5991"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/tags?post=5991"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}