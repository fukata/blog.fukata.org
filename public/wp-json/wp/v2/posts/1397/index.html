{"id":1397,"date":"2009-07-15T07:52:13","date_gmt":"2009-07-14T22:52:13","guid":{"rendered":"http:\/\/fukata.org\/?p=1397"},"modified":"2017-08-11T23:07:14","modified_gmt":"2017-08-11T23:07:14","slug":"jc-image-segmentation","status":"publish","type":"post","link":"https:\/\/blog.fukata.org\/archives\/1397\/","title":{"rendered":"[JC]\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u7528\u306e\u753b\u50cf\u5206\u5272\u30d7\u30ed\u30b0\u30e9\u30e0"},"content":{"rendered":"<p><a href=\"https:\/\/farm6.static.flickr.com\/5214\/5475642871_b13554b596_m.jpg\" target=\"_blank\" title=\"_1247611434908\"><img loading=\"lazy\" src=\"https:\/\/farm6.static.flickr.com\/5214\/5475642871_b13554b596_m.jpg\" alt=\"_1247611434908\" width=\"200\" height=\"116\" class=\"attachment wp-att-1398 alignleft\" \/><\/a>\u753b\u50cf\u306f\u958b\u767a\u9014\u4e2d\u306e\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306e\u3082\u306e\u306a\u306e\u3067\u3042\u307e\u308a\u6c17\u306b\u3057\u306a\u3044\u3067\u4e0b\u3055\u3044\uff3e\uff3e\uff1b<\/p>\n<p>\u4eca\u56de\u4f5c\u6210\u3057\u305f\u306e\u306f\u3001mixi\u3067\u3042\u308b\u3088\u3046\u306a\u5927\u304d\u306a\u753b\u50cf\u3092\u7b49\u5206\u5272\u3057\u3066\u4f53\u611f\u901f\u5ea6\u3092\u4e0a\u3052\u308b\u305f\u3081\u306e\u5c0f\u7d30\u5de5\u7528\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002\u5358\u7d14\u306b\u6307\u5b9a\u3055\u308c\u305f\u30b5\u30a4\u30ba\u3067\u753b\u50cf\u3092\u5207\u308a\u53d6\u3063\u3066\u3044\u307e\u3059\u3002\u307e\u3041\u3001\u753b\u50cf\u30bd\u30d5\u30c8\u306e\u4f7f\u3044\u65b9\u3092\u77e5\u3089\u306a\u3044\u81ea\u5206\u3068\u3057\u3066\u306f\u3001\u3053\u308c\u3057\u304b\u4f7f\u3044\u9053\u304c\u306a\u3044\u3067\u3059\u3057\u3001\u306a\u306b\u3088\u308a\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u6307\u5b9a\u3055\u308c\u305f\u6750\u6599\u3092\u7f6e\u3051\u3070\u4f7f\u3048\u308b\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\uff12\u3001\uff13\u5ea6\u884c\u3046\u6642\u306b\u304b\u306a\u308a\u4fbf\u5229\u3067\u3059\u3002<\/p>\n<p>\u3068\u3044\u3046\u304b\u3001\u3084\u306f\u308a\u30d5\u30ed\u30f3\u30c8\u5074\u3082java\u3067\u4f5c\u308b\u3053\u3068\u306b\u306a\u3063\u3061\u3083\u3044\u307e\u3057\u305f\u306d\uff3e\uff3e\uff1b\u306a\u3093\u3068\u3044\u3046\u304b\u3001\u7ba1\u7406\u5074\u304b\u3089\u4f5c\u6210\u3059\u308b\u306b\u306f\u304b\u306a\u308a\u306e\u6839\u6c17\u304c\u306a\u3044\u3068\u30e2\u30c1\u30d9\u30fc\u30b7\u30e7\u30f3\u7684\u306b\u6301\u305f\u306a\u3044\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3057\u305fw<\/p>\n<p>\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u8a73\u7d30\u4ee5\u4e0b\u306b\u8f09\u305b\u3066\u304a\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002<\/p>\n<p><!--more--><\/p>\n<p>\u25a0org.fukata.jc_tools.main.ImageDiviveMain<\/p>\n<pre lang=\"JAVA\" line=\"1\">\r\npackage org.fukata.jc_tools.main;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\nimport org.fukata.jc_common.utils.ImageUtils;\r\n\r\n\r\n\/**\r\n * \u30ed\u30b0\u30a4\u30f3\u753b\u9762\u7528\u306e950x460\u753b\u50cf\u3092\u6a2a5, \u7e262\u306b\u5206\u5272\u3057\u3066\u751f\u6210\u3059\u308b\r\n * \r\n * @author tatsuya\r\n *\r\n *\/\r\npublic class ImageDiviveMain {\r\n\t\r\n\tprivate static final int WIDTH=950;\r\n\tprivate static final int HEIGHT=460;\r\n\t\r\n\tprivate static final int IMG_WIDTH=190;\r\n\tprivate static final int IMG_HEIGHT=230;\r\n\r\n\t\/**\r\n\t * @param args\r\n\t * @throws Exception \r\n\t *\/\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString workDir = \"\/home\/tatsuya\/workspace\/workspace_java_ee\/ImageDivideTools\/src\/main\/resources\";\r\n\t\tString filename = workDir+\"\/main.png\";\r\n\t\tBufferedImage loadImage = ImageUtils.loadImage(filename);\r\n\t\t\r\n\t\tint width = loadImage.getWidth();\r\n\t\tint height = loadImage.getHeight();\r\n\t\tSystem.out.println(\"width=\"+width);\r\n\t\tSystem.out.println(\"height=\"+height);\r\n\t\t\r\n\t\t\/\/ check\r\n\t\tif (WIDTH!=width || HEIGHT!=height) {\r\n\t\t\tthrow new Exception(\"width=\"+width+\", height=\"+height);\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ subimage\r\n\t\tint count = 0;\r\n\t\tfor (int i=0; i<height \/IMG_HEIGHT; i++) {\r\n\t\t\tfor (int j=0; j<WIDTH\/IMG_WIDTH; j++) {\r\n\t\t\t\tcount++;\r\n\t\t\t\tSystem.out.println(String.format(\"x=%03d, y=%03d, w=%03d, h=%03d\", j*IMG_WIDTH, i*IMG_HEIGHT, IMG_WIDTH, IMG_HEIGHT));\r\n\t\t\t\tBufferedImage image = loadImage.getSubimage(j*IMG_WIDTH, i*IMG_HEIGHT, IMG_WIDTH, IMG_HEIGHT);\r\n\t\t\t\t\r\n\t\t\t\t\/\/ write\r\n\t\t\t\tString imgName = String.format(\"main_%02d.png\", count);\r\n\t\t\t\tImageIO.write(image, \"png\", new File(workDir+\"\/result\/\"+imgName));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n<\/pre>\n<p>\u25a0org.fukata.jc_common.utils.ImageUtils<\/p>\n<pre lang=\"JAVA\" line=\"1\">\r\npackage org.fukata.jc_common.utils;\r\n\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class ImageUtils {\r\n\tpublic static BufferedImage loadImage(String filename) {\r\n\t\tInputStream inputStream = null;\r\n\t\tBufferedImage read = null;\r\n\t\ttry {\r\n\t\t\tinputStream = new FileInputStream(filename);\r\n\t\t\tread = ImageIO.read(inputStream);\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\/\/ TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t\/\/ TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\tif (inputStream!=null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tinputStream.close();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\/\/ TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn read;\r\n\t}\r\n}\r\n<\/pre>\n<p><\/height><\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u753b\u50cf\u306f\u958b\u767a\u9014\u4e2d\u306e\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306e\u3082\u306e\u306a\u306e\u3067\u3042\u307e\u308a\u6c17\u306b\u3057\u306a\u3044\u3067\u4e0b\u3055\u3044\uff3e\uff3e\uff1b \u4eca\u56de\u4f5c\u6210\u3057\u305f\u306e\u306f\u3001mixi\u3067\u3042\u308b\u3088\u3046\u306a\u5927\u304d\u306a\u753b\u50cf\u3092\u7b49\u5206\u5272\u3057\u3066\u4f53\u611f\u901f\u5ea6\u3092\u4e0a\u3052\u308b\u305f\u3081\u306e\u5c0f\u7d30\u5de5\u7528\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002\u5358\u7d14\u306b\u6307\u5b9a\u3055\u308c\u305f\u30b5\u30a4 &#8230; <a href=\"https:\/\/blog.fukata.org\/archives\/1397\/\"> \u7d9a\u304d\u3092\u8aad\u3080<\/a><\/p>\n","protected":false},"author":2,"featured_media":9223372036854775807,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[1980],"tags":[341],"_links":{"self":[{"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/posts\/1397"}],"collection":[{"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/comments?post=1397"}],"version-history":[{"count":0,"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/posts\/1397\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/media\/9223372036854775807"}],"wp:attachment":[{"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/media?parent=1397"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/categories?post=1397"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/blog.fukata.org\/wp-json\/wp\/v2\/tags?post=1397"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}