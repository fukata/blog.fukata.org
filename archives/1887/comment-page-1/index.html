<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<meta name='B-verify' content='1eef0dd0da25b13b2fae70673c38f59bb11c954e' />
<title>[GAE/P]独自のValidationManagerを作ってみました | blog.fukata.org</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="/wp-content/themes/subblog_v2/js/html5.js" type="text/javascript"></script>
<![endif]-->
<!-- JM Twitter Cards by Julien Maury 10.0.1 -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@fukata">
<meta name="twitter:site" content="@fukata">
<meta property="og:title" content="[GAE/P]独自のValidationManagerを作ってみました">
<!-- /JM Twitter Cards by Julien Maury 10.0.1 -->

<!-- All in One SEO Pack 3.3.4 by Michael Torbert of Semper Fi Web Design[-1,-1] -->
<meta name="description"  content="GAEでアプリを作成していて、入力値への検証機構が貧弱だと思ったので、作りました。今回作成したのは、検証情報をyamlに記述し、その検証情報に沿ってモデルのプロパティを走査していくという物です。" />

<meta name="keywords"  content="gae,gae/p,validation,開発" />

<script type="application/ld+json" class="aioseop-schema">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"/#organization","url":"/","name":"blog.fukata.org","sameAs":[]},{"@type":"WebSite","@id":"/#website","url":"/","name":"blog.fukata.org","publisher":{"@id":"/#organization"}},{"@type":"WebPage","@id":"/archives/1887/comment-page-1/#comments#webpage","url":"/archives/1887/comment-page-1/#comments","inLanguage":"en-US","name":"[GAE/P]\u72ec\u81ea\u306eValidationManager\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f","isPartOf":{"@id":"/#website"},"datePublished":"2009-11-25T02:56:35+00:00","dateModified":"2017-08-11T22:59:08+00:00"},{"@type":"Article","@id":"/archives/1887/comment-page-1/#comments#article","isPartOf":{"@id":"/archives/1887/comment-page-1/#comments#webpage"},"author":{"@id":"/archives/author/fukata/#author"},"headline":"[GAE/P]\u72ec\u81ea\u306eValidationManager\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f","datePublished":"2009-11-25T02:56:35+00:00","dateModified":"2017-08-11T22:59:08+00:00","commentCount":2,"mainEntityOfPage":{"@id":"/archives/1887/comment-page-1/#comments#webpage"},"publisher":{"@id":"/#organization"},"articleSection":"\u958b\u767a, GAE, GAE/P, validation"},{"@type":"Person","@id":"/archives/author/fukata/#author","name":"fukata","sameAs":[],"image":{"@type":"ImageObject","@id":"/#personlogo","url":"https://secure.gravatar.com/avatar/d599ee931abe1222d97129eeeab95ad6?s=96&d=mm&r=g","width":96,"height":96,"caption":"fukata"}}]}</script>
<!-- All in One SEO Pack -->
<link rel='dns-prefetch' href='' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="blog.fukata.org &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="blog.fukata.org &raquo; Comments Feed" href="/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="blog.fukata.org &raquo; [GAE/P]独自のValidationManagerを作ってみました Comments Feed" href="/archives/1887/feed/" />
<!-- This site uses the Google Analytics by MonsterInsights plugin v7.10.4 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<script type="text/javascript" data-cfasync="false">
	var mi_version         = '7.10.4';
	var mi_track_user      = true;
	var mi_no_track_reason = '';
	
	var disableStr = 'ga-disable-UA-19570640-21';

	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}
	
	if ( mi_track_user ) {
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

		__gaTracker('create', 'UA-19570640-21', 'auto');
		__gaTracker('set', 'forceSSL', true);
		__gaTracker('require', 'displayfeatures');
		__gaTracker('send','pageview');
	} else {
		console.log( "" );
		(function() {
			/* https://developers.google.com/analytics/devguides/collection/analyticsjs/ */
			var noopfn = function() {
				return null;
			};
			var noopnullfn = function() {
				return null;
			};
			var Tracker = function() {
				return null;
			};
			var p = Tracker.prototype;
			p.get = noopfn;
			p.set = noopfn;
			p.send = noopfn;
			var __gaTracker = function() {
				var len = arguments.length;
				if ( len === 0 ) {
					return;
				}
				var f = arguments[len-1];
				if ( typeof f !== 'object' || f === null || typeof f.hitCallback !== 'function' ) {
					console.log( 'Not running function __gaTracker(' + arguments[0] + " ....) because you are not being tracked. " + mi_no_track_reason );
					return;
				}
				try {
					f.hitCallback();
				} catch (ex) {

				}
			};
			__gaTracker.create = function() {
				return new Tracker();
			};
			__gaTracker.getByName = noopnullfn;
			__gaTracker.getAll = function() {
				return [];
			};
			__gaTracker.remove = noopfn;
			window['__gaTracker'] = __gaTracker;
					})();
		}
</script>
<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.6"}};
			!function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='/wp-includes/css/dist/block-library/style.min.css?ver=5.6' type='text/css' media='all' />
<link rel='stylesheet' id='toc-screen-css'  href='/wp-content/plugins/table-of-contents-plus/screen.min.css?ver=1509' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-fonts-css'  href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&#038;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-style-css'  href='/wp-content/themes/subblog_v2/style.css?ver=5.6' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='/wp-content/themes/subblog_v2/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' id='monsterinsights-frontend-script-js-extra'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,pdf,ppt,zip,xls,docx,pptx,xlsx","inbound_paths":"[]","home_url":"","hash_tracking":"false"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/google-analytics-for-wordpress/assets/js/frontend.min.js?ver=7.10.4' id='monsterinsights-frontend-script-js'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.min.js?ver=3.5.1' id='jquery-core-js'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<link rel="https://api.w.org/" href="/wp-json/" /><link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/1887" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.6" />
<link rel="canonical" href="/archives/1887/comment-page-1/#comments" />
<link rel='shortlink' href='/?p=1887' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2Farchives%2F1887%2F" />
<meta name="google-site-verification" content="yjvKGgbcWE3PHz6TpeUVsUpgV_igFWiuFjeo8u1oBSg" /><style type="text/css">div#toc_container {width: 100%;}</style>
<!-- BEGIN: WP-OGP by http://www.millerswebsite.co.uk Version: 1.0.5  -->
<meta property="og:title" content="[GAE/P]独自のValidationManagerを作ってみました" />
<meta property="og:type" content="article" />
<meta property="og:image" content="/wp-content/plugins/wp-ogp/default.jpg" />
<meta property="image_src" content="/wp-content/plugins/wp-ogp/default.jpg" />
<meta property="og:url" content="/archives/1887/" />
<meta property="og:site_name" content="blog.fukata.org" />
<meta property="og:description" content="GAEでアプリを作成していて、入力値への検証機構が貧弱だと思ったので、作りました。今回作成したのは、検証情報をyamlに記述し、その検証情報に沿ってモデルのプロパティを走査していくという物です。 検証情報yamlの記述方法、使い方ともにSymfonyのValidationManagerに酷似していると思います。なので、Symfonyを使ったことがある人であれば、なんとなくわかりやすいかもしれません。と言っても、SymfonyのValidationManagerほどまだ細部までエラーチェックなどをしていないので、検証情報yamlの記述によっては、予期しないエラーが発生すると思います。ですので、この辺は、もう少しリファクタリングをしないといけないかと思います。 Pythonによるリフレクション部分だったりdb.Modelの扱い方がもし間違っていたら是非教えてください。 今回、関係するソースは下記に載せておきます。 ■検証情報yaml  validate:  name:   - validator: RequiredValidator  ■ValidationManager  class ValidationManager(object):   VALIDATOR_PACKAGES = [              'org.fukata.mapshare.system.utils.validation.common.',              'org.fukata.mapshare.system.utils.validation.extention.',              ]     valid = None   ..." />
<!-- END: WP-OGP by http://www.millerswebsite.co.uk Version: 1.0.5 -->

<!-- BEGIN: WP Social Bookmarking Light HEAD -->


<script>
    (function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>

<style type="text/css">
    .wp_social_bookmarking_light{
    border: 0 !important;
    padding: 10px 0 20px 0 !important;
    margin: 0 !important;
}
.wp_social_bookmarking_light div{
    float: left !important;
    border: 0 !important;
    padding: 0 !important;
    margin: 0 5px 0px 0 !important;
    min-height: 30px !important;
    line-height: 18px !important;
    text-indent: 0 !important;
}
.wp_social_bookmarking_light img{
    border: 0 !important;
    padding: 0;
    margin: 0;
    vertical-align: top !important;
}
.wp_social_bookmarking_light_clear{
    clear: both !important;
}
#fb-root{
    display: none;
}
.wsbl_twitter{
    width: 100px;
}
.wsbl_facebook_like iframe{
    max-width: none !important;
}
.wsbl_pinterest a{
    border: 0px !important;
}
</style>
<!-- END: WP Social Bookmarking Light HEAD -->
	<style type="text/css">
			.site-title a,
		.site-description {
			color: #444444 !important;
		}
	        .widget-title {
            background-color: #444444;
        }
        .entry-content h2 {
            border-left: #444444 solid 10px;
            padding-left: 10px;
        }
	</style>
	<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #282c34; }
</style>
	</head>

<body class="post-template-default single single-post postid-1887 single-format-standard custom-background custom-font-enabled">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<hgroup>
			<h1 class="site-title"><a href="/" title="blog.fukata.org" rel="home">blog.fukata.org</a></h1>
			<h2 class="site-description">旅するプログラマ</h2>
		</hgroup>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<h3 class="menu-toggle">Menu</h3>
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
      <div class="menu-menu-1-container"><ul id="menu-menu-1" class="nav-menu"><li id="menu-item-7952" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-7952"><a href="/">Home</a></li>
<li id="menu-item-8057" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8057"><a href="/archives/category/travel/">旅行</a></li>
<li id="menu-item-8055" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8055"><a href="/archives/category/eating/">食事</a></li>
<li id="menu-item-8056" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8056"><a href="/archives/category/camera/">カメラ</a></li>
<li id="menu-item-8785" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-8785"><a href="/archives/category/dev/">開発</a></li>
<li id="menu-item-8786" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8786"><a href="/archives/category/note/">雑記</a></li>
<li id="menu-item-7971" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7971"><a href="https://twitter.com/fukata/">Twitter</a></li>
<li id="menu-item-7972" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7972"><a href="https://www.facebook.com/fukata.org">Facebook</a></li>
<li id="menu-item-7973" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7973"><a href="https://www.youtube.com/c/FukataOrg">YouTube</a></li>
<li id="menu-item-7974" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7974"><a href="https://www.instagram.com/tatsuya_fukata/">Instagram</a></li>
</ul></div>		</nav><!-- #site-navigation -->

			</header><!-- #masthead -->

	<div id="main" class="wrapper">

	<div id="primary" class="site-content">
		<div id="content" role="main">

			
				
	<article id="post-1887" class="post-1887 post type-post status-publish format-standard has-post-thumbnail hentry category-dev tag-gae tag-gaep tag-validation">
		        		<header class="entry-header">
            <h1 class="entry-title">[GAE/P]独自のValidationManagerを作ってみました</h1>
							<div class="comments-link">
					<a href="/archives/1887/#comments"><span class="dsq-postid" data-dsqidentifier="1887 http://fukata.org/?p=1887">2 Replies</span></a>				</div><!-- .comments-link -->
			        </header><!-- .entry-header -->

		<!-- .entry-summary -->
		<div class="entry-content">
			<div class='wp_social_bookmarking_light'>
            <div class="wsbl_hatena_button"><a href="//b.hatena.ne.jp/entry//archives/1887/" class="hatena-bookmark-button" data-hatena-bookmark-title="[GAE/P]独自のValidationManagerを作ってみました" data-hatena-bookmark-layout="simple-balloon" title="Bookmark this on Hatena Bookmark"> <img src="//b.hatena.ne.jp/images/entry-button/button-only@2x.png" alt="Bookmark this on Hatena Bookmark" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="//b.hatena.ne.jp/js/bookmark_button.js" charset="utf-8" async="async"></script></div>
            <div class="wsbl_facebook_share"><div id="fb-root"></div><div class="fb-share-button" data-href="/archives/1887/" data-type="button_count"></div></div>
            <div class="wsbl_twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="/archives/1887/" data-text="[GAE/P]独自のValidationManagerを作ってみました">Tweet</a></div>
            <div class="wsbl_line"><a href='http://line.me/R/msg/text/?%5BGAE%2FP%5D%E7%8B%AC%E8%87%AA%E3%81%AEValidationManager%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%81%9F%0D%0A%2Farchives%2F1887%2F' title='LINEで送る' rel=nofollow class='wp_social_bookmarking_light_a' ><img src='/wp-content/plugins/wp-social-bookmarking-light/public/images/line88x20.png' alt='LINEで送る' title='LINEで送る' width='88' height='20' class='wp_social_bookmarking_light_img' /></a></div>
    </div>
<br class='wp_social_bookmarking_light_clear' />
<p>GAEでアプリを作成していて、入力値への検証機構が貧弱だと思ったので、作りました。今回作成したのは、検証情報をyamlに記述し、その検証情報に沿ってモデルのプロパティを走査していくという物です。</p>
<p>検証情報yamlの記述方法、使い方ともにSymfonyのValidationManagerに酷似していると思います。なので、Symfonyを使ったことがある人であれば、なんとなくわかりやすいかもしれません。と言っても、SymfonyのValidationManagerほどまだ細部までエラーチェックなどをしていないので、検証情報yamlの記述によっては、予期しないエラーが発生すると思います。ですので、この辺は、もう少しリファクタリングをしないといけないかと思います。</p>
<p>Pythonによるリフレクション部分だったりdb.Modelの扱い方がもし間違っていたら是非教えてください。</p>
<p>今回、関係するソースは下記に載せておきます。</p>
<p>■検証情報yaml</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
</pre></td><td class="code"><pre class="yaml" style="font-family:monospace;"><span style="color: #007F45;">validate</span>:<span style="color: #007F45;">
  name</span>:<span style="color: green;">
    - validator</span><span style="font-weight: bold; color: brown;">: </span>RequiredValidator</pre></td></tr></table><p class="theCode" style="display:none;">validate:
  name:
    - validator: RequiredValidator</p></div>

<p>■ValidationManager</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre></td><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">class</span> ValidationManager<span style="color: black;">&#40;</span><span style="color: #008000;">object</span><span style="color: black;">&#41;</span>:
    VALIDATOR_PACKAGES <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span>
                          <span style="color: #483d8b;">'org.fukata.mapshare.system.utils.validation.common.'</span><span style="color: #66cc66;">,</span>
                          <span style="color: #483d8b;">'org.fukata.mapshare.system.utils.validation.extention.'</span><span style="color: #66cc66;">,</span>
                          <span style="color: black;">&#93;</span>
&nbsp;
    valid <span style="color: #66cc66;">=</span> <span style="color: #008000;">None</span>
    errors <span style="color: #66cc66;">=</span> <span style="color: #008000;">None</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span>validYaml<span style="color: black;">&#41;</span>:
        <span style="color: #008000;">self</span>.<span style="color: black;">valid</span> <span style="color: #66cc66;">=</span> YamlUtils.<span style="color: black;">load</span><span style="color: black;">&#40;</span>validYaml<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> validate<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span>model<span style="color: black;">&#41;</span>:
        <span style="color: #808080; font-style: italic;"># initialize</span>
        <span style="color: #008000;">self</span>.<span style="color: black;">errors</span> <span style="color: #66cc66;">=</span> Errors<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">for</span> item <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>.<span style="color: black;">valid</span><span style="color: black;">&#91;</span>config.<span style="color: black;">VALIDATE_KEY</span><span style="color: black;">&#93;</span>:
            <span style="color: #ff7700;font-weight:bold;">for</span> validInfo <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>.<span style="color: black;">valid</span><span style="color: black;">&#91;</span>config.<span style="color: black;">VALIDATE_KEY</span><span style="color: black;">&#93;</span><span style="color: black;">&#91;</span>item<span style="color: black;">&#93;</span>:
                validator <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>._getValidatorInstance<span style="color: black;">&#40;</span>validInfo<span style="color: black;">&#41;</span>
                <span style="color: #808080; font-style: italic;"># check exists attribute</span>
                props <span style="color: #66cc66;">=</span> model.<span style="color: black;">properties</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
                prop <span style="color: #66cc66;">=</span> <span style="color: #008000;">None</span>
                <span style="color: #ff7700;font-weight:bold;">if</span> props.<span style="color: black;">has_key</span><span style="color: black;">&#40;</span>item<span style="color: black;">&#41;</span>:
                    prop <span style="color: #66cc66;">=</span> props<span style="color: black;">&#91;</span>item<span style="color: black;">&#93;</span>
                <span style="color: #ff7700;font-weight:bold;">else</span>:
                    <span style="color: #808080; font-style: italic;"># don't have a key.</span>
                    <span style="color: #ff7700;font-weight:bold;">raise</span> BadKeyError<span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;Key %s is don't have property.&quot;</span> % item<span style="color: black;">&#41;</span>
&nbsp;
                value <span style="color: #66cc66;">=</span> <span style="color: #008000;">getattr</span><span style="color: black;">&#40;</span>model<span style="color: #66cc66;">,</span> prop._attr_name<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: black;">&#41;</span>
                <span style="color: #ff7700;font-weight:bold;">try</span>:
                    validator.<span style="color: black;">validate</span><span style="color: black;">&#40;</span>value<span style="color: #66cc66;">,</span> prop<span style="color: #66cc66;">,</span> model<span style="color: black;">&#41;</span>
                <span style="color: #ff7700;font-weight:bold;">except</span> ValidationError<span style="color: #66cc66;">,</span> e:
                    <span style="color: #008000;">self</span>.<span style="color: black;">errors</span>.<span style="color: black;">append</span><span style="color: black;">&#40;</span>prop<span style="color: #66cc66;">,</span> e.<span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">bool</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">errors</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> _getValidatorInstance<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> validInfo<span style="color: black;">&#41;</span>:
&nbsp;
        clazz <span style="color: #66cc66;">=</span> ReflectionUtils.<span style="color: black;">getClazz</span><span style="color: black;">&#40;</span>validInfo<span style="color: black;">&#91;</span><span style="color: #483d8b;">'validator'</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">self</span>.<span style="color: black;">VALIDATOR_PACKAGES</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">;</span>
        options <span style="color: #66cc66;">=</span> validInfo<span style="color: black;">&#91;</span><span style="color: #483d8b;">'options'</span><span style="color: black;">&#93;</span> <span style="color: #ff7700;font-weight:bold;">if</span> validInfo.<span style="color: black;">has_key</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'options'</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">else</span> <span style="color: black;">&#123;</span><span style="color: black;">&#125;</span> 
        <span style="color: #ff7700;font-weight:bold;">return</span> clazz<span style="color: black;">&#40;</span>options<span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;">class ValidationManager(object):
    VALIDATOR_PACKAGES = [
                          'org.fukata.mapshare.system.utils.validation.common.',
                          'org.fukata.mapshare.system.utils.validation.extention.',
                          ]
    
    valid = None
    errors = None
    
    def __init__(self,validYaml):
        self.valid = YamlUtils.load(validYaml)
        
    def validate(self,model):
        # initialize
        self.errors = Errors()
        
        for item in self.valid[config.VALIDATE_KEY]:
            for validInfo in self.valid[config.VALIDATE_KEY][item]:
                validator = self._getValidatorInstance(validInfo)
                # check exists attribute
                props = model.properties()
                prop = None
                if props.has_key(item):
                    prop = props[item]
                else:
                    # don't have a key.
                    raise BadKeyError(&quot;Key %s is don't have property.&quot; % item)
                
                value = getattr(model, prop._attr_name(), None)
                try:
                    validator.validate(value, prop, model)
                except ValidationError, e:
                    self.errors.append(prop, e.__str__())
                
        return not bool(self.errors)
    
    def _getValidatorInstance(self, validInfo):

        clazz = ReflectionUtils.getClazz(validInfo['validator'], self.VALIDATOR_PACKAGES);
        options = validInfo['options'] if validInfo.has_key('options') else {} 
        return clazz(options)</p></div>

<p>■ValidationError</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">class</span> ValidationError<span style="color: black;">&#40;</span><span style="color: #008000;">Exception</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> value<span style="color: black;">&#41;</span>:
        <span style="color: #008000;">self</span>.<span style="color: black;">value</span> <span style="color: #66cc66;">=</span> value
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">value</span></pre></td></tr></table><p class="theCode" style="display:none;">class ValidationError(Exception):
    def __init__(self, value):
        self.value = value
        
    def __str__(self):
        return self.value</p></div>

<p>■BaseValidator</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">class</span> BaseValidator<span style="color: black;">&#40;</span><span style="color: #008000;">object</span><span style="color: black;">&#41;</span>:
    options <span style="color: #66cc66;">=</span> <span style="color: #008000;">None</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> options<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
        <span style="color: #008000;">self</span>.<span style="color: black;">options</span> <span style="color: #66cc66;">=</span> options
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> validate<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span>value<span style="color: #66cc66;">,</span>prop<span style="color: #66cc66;">,</span>model<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">False</span></pre></td></tr></table><p class="theCode" style="display:none;">class BaseValidator(object):
    options = None

    def __init__(self, options=None):
        self.options = options
        
    def validate(self,value,prop,model):
        return False</p></div>

<p>■RequiredValidator</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">class</span> RequiredValidator<span style="color: black;">&#40;</span>BaseValidator<span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">def</span> validate<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span>value<span style="color: #66cc66;">,</span>prop<span style="color: #66cc66;">,</span>model<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">if</span> value <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span>:
            <span style="color: #ff7700;font-weight:bold;">raise</span> ValidationError<span style="color: black;">&#40;</span><span style="color: #483d8b;">'Property %s is required'</span> % prop.<span style="color: black;">name</span><span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">if</span> StringUtils.<span style="color: black;">isNone</span><span style="color: black;">&#40;</span>value<span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">raise</span> ValidationError<span style="color: black;">&#40;</span><span style="color: #483d8b;">'Property %s is required'</span> % prop.<span style="color: black;">name</span><span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">True</span></pre></td></tr></table><p class="theCode" style="display:none;">class RequiredValidator(BaseValidator):
    def validate(self,value,prop,model):
        if value is None:
            raise ValidationError('Property %s is required' % prop.name)

        if StringUtils.isNone(value):
            raise ValidationError('Property %s is required' % prop.name)
        
        return True</p></div>

<p>■BaseModel</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #808080; font-style: italic;"># skip default validation of db.Property</span>
<span style="color: #008000;">setattr</span><span style="color: black;">&#40;</span>db.<span style="color: black;">Property</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'__set__'</span><span style="color: #66cc66;">,</span> 
        <span style="color: #ff7700;font-weight:bold;">lambda</span> <span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> model_instance<span style="color: #66cc66;">,</span> value: 
            <span style="color: #008000;">setattr</span><span style="color: black;">&#40;</span>model_instance<span style="color: #66cc66;">,</span> <span style="color: #008000;">self</span>._attr_name<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> value<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> BaseModel<span style="color: black;">&#40;</span>db.<span style="color: black;">Model</span><span style="color: black;">&#41;</span>:
    errors <span style="color: #66cc66;">=</span> <span style="color: #008000;">None</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> *args<span style="color: #66cc66;">,</span> **kwds<span style="color: black;">&#41;</span>:
        <span style="color: #008000;">super</span><span style="color: black;">&#40;</span>BaseModel<span style="color: #66cc66;">,</span> <span style="color: #008000;">self</span><span style="color: black;">&#41;</span>.<span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span>*args<span style="color: #66cc66;">,</span> **kwds<span style="color: black;">&#41;</span>
        <span style="color: #008000;">self</span>.<span style="color: black;">errors</span> <span style="color: #66cc66;">=</span> Errors<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> validate<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span>valid_yaml<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">if</span> valid_yaml <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span>:
            <span style="color: #ff7700;font-weight:bold;">for</span> prop <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>.<span style="color: black;">properties</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>.<span style="color: black;">values</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
                value <span style="color: #66cc66;">=</span> <span style="color: #008000;">getattr</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> prop._attr_name<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: black;">&#41;</span>
                <span style="color: #ff7700;font-weight:bold;">try</span>:
                    value <span style="color: #66cc66;">=</span> prop.<span style="color: black;">validate</span><span style="color: black;">&#40;</span>value<span style="color: black;">&#41;</span>
                    <span style="color: #008000;">setattr</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> prop._attr_name<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> value<span style="color: black;">&#41;</span>
                <span style="color: #ff7700;font-weight:bold;">except</span> db.<span style="color: black;">BadValueError</span><span style="color: #66cc66;">,</span> e:
                    <span style="color: #008000;">self</span>.<span style="color: black;">errors</span>.<span style="color: black;">append</span><span style="color: black;">&#40;</span>prop<span style="color: #66cc66;">,</span> e.<span style="color: black;">message</span><span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">bool</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">errors</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">else</span>:
            manager <span style="color: #66cc66;">=</span> ValidationManager<span style="color: black;">&#40;</span>valid_yaml<span style="color: black;">&#41;</span>
            manager.<span style="color: black;">validate</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
            <span style="color: #008000;">self</span>.<span style="color: black;">errors</span> <span style="color: #66cc66;">=</span> manager.<span style="color: black;">errors</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">bool</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">errors</span><span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;"># skip default validation of db.Property
setattr(db.Property, '__set__', 
        lambda self, model_instance, value: 
            setattr(model_instance, self._attr_name(), value))

class BaseModel(db.Model):
    errors = None

    def __init__(self, *args, **kwds):
        super(BaseModel, self).__init__(*args, **kwds)
        self.errors = Errors()

    def validate(self,valid_yaml=None):
        if valid_yaml is None:
            for prop in self.properties().values():
                value = getattr(self, prop._attr_name(), None)
                try:
                    value = prop.validate(value)
                    setattr(self, prop._attr_name(), value)
                except db.BadValueError, e:
                    self.errors.append(prop, e.message)
            return not bool(self.errors)
        else:
            manager = ValidationManager(valid_yaml)
            manager.validate(self)
            self.errors = manager.errors
            return not bool(self.errors)</p></div>

<p>■Errors</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre></td><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">class</span> Errors<span style="color: black;">&#40;</span><span style="color: #008000;">list</span><span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">'''container of validation errors
    '''</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #008000;">self</span>.<span style="color: #008000;">map</span> <span style="color: #66cc66;">=</span> <span style="color: #008000;">dict</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> append<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> prop<span style="color: #66cc66;">,</span> msg<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> error<span style="color: #66cc66;">=</span><span style="color: #008000;">True</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">if</span> error:
            <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">isinstance</span><span style="color: black;">&#40;</span>prop<span style="color: #66cc66;">,</span> db.<span style="color: black;">Property</span><span style="color: black;">&#41;</span>:
                <span style="color: #008000;">super</span><span style="color: black;">&#40;</span>Errors<span style="color: #66cc66;">,</span> <span style="color: #008000;">self</span><span style="color: black;">&#41;</span>.<span style="color: black;">append</span><span style="color: black;">&#40;</span>Error<span style="color: black;">&#40;</span>prop<span style="color: #66cc66;">,</span> msg<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
                <span style="color: #008000;">self</span>.<span style="color: #008000;">map</span><span style="color: black;">&#91;</span>prop.<span style="color: black;">name</span><span style="color: black;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #008000;">len</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span> - <span style="color: #ff4500;">1</span>
            <span style="color: #ff7700;font-weight:bold;">elif</span> <span style="color: #008000;">isinstance</span><span style="color: black;">&#40;</span>prop<span style="color: #66cc66;">,</span> <span style="color: black;">&#40;</span><span style="color: #008000;">str</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">unicode</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>:
                <span style="color: #008000;">super</span><span style="color: black;">&#40;</span>Errors<span style="color: #66cc66;">,</span> <span style="color: #008000;">self</span><span style="color: black;">&#41;</span>.<span style="color: black;">append</span><span style="color: black;">&#40;</span>Error<span style="color: black;">&#40;</span>prop<span style="color: #66cc66;">,</span> msg<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
                <span style="color: #008000;">self</span>.<span style="color: #008000;">map</span><span style="color: black;">&#91;</span>prop<span style="color: black;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #008000;">len</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span> - <span style="color: #ff4500;">1</span>
            <span style="color: #ff7700;font-weight:bold;">else</span>:
                <span style="color: #008000;">super</span><span style="color: black;">&#40;</span>Errors<span style="color: #66cc66;">,</span> <span style="color: #008000;">self</span><span style="color: black;">&#41;</span>.<span style="color: black;">append</span><span style="color: black;">&#40;</span>Error<span style="color: black;">&#40;</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> prop<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> clear<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">del</span> <span style="color: #008000;">self</span><span style="color: black;">&#91;</span>:<span style="color: black;">&#93;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> get<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> index<span style="color: #66cc66;">,</span> default<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span><span style="color: black;">&#91;</span>index<span style="color: black;">&#93;</span> <span style="color: #ff7700;font-weight:bold;">if</span> index <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span> <span style="color: #ff7700;font-weight:bold;">else</span> default
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> tostr<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> sep<span style="color: #66cc66;">=</span>u<span style="color: #483d8b;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #66cc66;">,</span> **ops<span style="color: black;">&#41;</span>:
        msgs<span style="color: #66cc66;">=</span><span style="color: #008000;">list</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">for</span> error <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>:
            msgs.<span style="color: black;">append</span><span style="color: black;">&#40;</span>error.<span style="color: black;">tostr</span><span style="color: black;">&#40;</span>**ops<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> sep.<span style="color: black;">join</span><span style="color: black;">&#40;</span>msgs<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">tostr</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__contains__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> name<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> name <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>.<span style="color: #008000;">map</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__getitem__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> index<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">isinstance</span><span style="color: black;">&#40;</span>index<span style="color: #66cc66;">,</span> <span style="color: black;">&#40;</span><span style="color: #008000;">str</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">unicode</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">if</span> index <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>.<span style="color: #008000;">map</span>:
                <span style="color: #ff7700;font-weight:bold;">raise</span> <span style="color: #008000;">IndexError</span><span style="color: black;">&#40;</span>u<span style="color: #483d8b;">&quot;'%s' property has not error.&quot;</span> % index<span style="color: black;">&#41;</span>
            index <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: #008000;">map</span><span style="color: black;">&#91;</span>index<span style="color: black;">&#93;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">super</span><span style="color: black;">&#40;</span>Errors<span style="color: #66cc66;">,</span> <span style="color: #008000;">self</span><span style="color: black;">&#41;</span>.<span style="color: #0000cd;">__getitem__</span><span style="color: black;">&#40;</span>index<span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;">class Errors(list):
    '''container of validation errors
    '''
    def __init__(self):
        self.map = dict()

    def append(self, prop, msg=None, error=True):
        if error:
            if isinstance(prop, db.Property):
                super(Errors, self).append(Error(prop, msg))
                self.map[prop.name] = len(self) - 1
            elif isinstance(prop, (str, unicode)):
                super(Errors, self).append(Error(prop, msg))
                self.map[prop] = len(self) - 1
            else:
                super(Errors, self).append(Error(None, prop))

    def clear(self):
        del self[:]
    
    def get(self, index, default=None):
        return self[index] if index in self else default

    def tostr(self, sep=u&quot;\n&quot;, **ops):
        msgs=list()
        for error in self:
            msgs.append(error.tostr(**ops))
        return sep.join(msgs)

    def __str__(self):
        return self.tostr()

    def __contains__(self, name):
        return name in self.map
    
    def __getitem__(self, index):
        if isinstance(index, (str, unicode)):
            if index not in self.map:
                raise IndexError(u&quot;'%s' property has not error.&quot; % index)
            index = self.map[index]
        return super(Errors, self).__getitem__(index)</p></div>

<p>■Error</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">class</span> Error<span style="color: black;">&#40;</span><span style="color: #008000;">object</span><span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">'''container of validation error
    '''</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> prop<span style="color: #66cc66;">,</span> msg<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
        <span style="color: #008000;">self</span>.<span style="color: black;">prop</span> <span style="color: #66cc66;">=</span> prop
        <span style="color: #008000;">self</span>.<span style="color: black;">msg</span> <span style="color: #66cc66;">=</span> msg
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">tostr</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> tostr<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> format<span style="color: #66cc66;">=</span>u<span style="color: #483d8b;">&quot;%(msg)s&quot;</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">isinstance</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">prop</span><span style="color: #66cc66;">,</span> db.<span style="color: black;">Property</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">and</span> format:
            name <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">prop</span>.<span style="color: black;">verbose_name</span> <span style="color: #ff7700;font-weight:bold;">or</span> <span style="color: #008000;">self</span>.<span style="color: black;">prop</span>.<span style="color: black;">name</span>
            msg <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">re</span>.<span style="color: black;">sub</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">' '</span>+name+<span style="color: #483d8b;">' '</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">' %(name)s '</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">self</span>.<span style="color: black;">msg</span><span style="color: black;">&#41;</span>
            format <span style="color: #66cc66;">=</span> format % <span style="color: black;">&#123;</span>
                            <span style="color: #483d8b;">'msg'</span>: msg<span style="color: #66cc66;">,</span>
                        <span style="color: black;">&#125;</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> _<span style="color: black;">&#40;</span>format<span style="color: black;">&#41;</span> % <span style="color: black;">&#123;</span>
                             <span style="color: #483d8b;">'name'</span>: _<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">prop</span>.<span style="color: black;">verbose_name</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">or</span> _<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">prop</span>.<span style="color: black;">name</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
                            <span style="color: black;">&#125;</span>
        <span style="color: #ff7700;font-weight:bold;">else</span>:
            <span style="color: #ff7700;font-weight:bold;">return</span> _<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">msg</span><span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;">class Error(object):
    '''container of validation error
    '''
    
    def __init__(self, prop, msg=None):
        self.prop = prop
        self.msg = msg

    def __str__(self):
        return self.tostr()

    def tostr(self, format=u&quot;%(msg)s&quot;):
        if isinstance(self.prop, db.Property) and format:
            name = self.prop.verbose_name or self.prop.name
            msg = re.sub(' '+name+' ', ' %(name)s ', self.msg)
            format = format % {
                            'msg': msg,
                        }
            return _(format) % {
                             'name': _(self.prop.verbose_name) or _(self.prop.name),
                            }
        else:
            return _(self.msg)</p></div>

<p>■ReflectionUtils</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
</pre></td><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">class</span> ReflectionUtils<span style="color: black;">&#40;</span><span style="color: #008000;">object</span><span style="color: black;">&#41;</span>:
    BIG_PATTERN <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">re</span>.<span style="color: #008000;">compile</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'[A-Z]'</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #66cc66;">@</span><span style="color: #008000;">classmethod</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> getClazz<span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span>className<span style="color: #66cc66;">,</span>basePackageList<span style="color: #66cc66;">=</span><span style="color: black;">&#91;</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>:
        packageName <span style="color: #66cc66;">=</span> cls.<span style="color: black;">generatePackageName</span><span style="color: black;">&#40;</span>className<span style="color: black;">&#41;</span>
&nbsp;
        clazz <span style="color: #66cc66;">=</span> <span style="color: #008000;">None</span>
        <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">len</span><span style="color: black;">&#40;</span>basePackageList<span style="color: black;">&#41;</span><span style="color: #66cc66;">&gt;</span><span style="color: #ff4500;">0</span>:
            <span style="color: #ff7700;font-weight:bold;">for</span> basePackage <span style="color: #ff7700;font-weight:bold;">in</span> basePackageList:
                packageName <span style="color: #66cc66;">=</span> basePackage+packageName
                <span style="color: #ff7700;font-weight:bold;">try</span>:
                    module <span style="color: #66cc66;">=</span> <span style="color: #008000;">__import__</span><span style="color: black;">&#40;</span>packageName<span style="color: #66cc66;">,</span> <span style="color: #008000;">globals</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">locals</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: black;">&#91;</span>className<span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
                    clazz <span style="color: #66cc66;">=</span> <span style="color: #008000;">getattr</span><span style="color: black;">&#40;</span>module<span style="color: #66cc66;">,</span> className<span style="color: black;">&#41;</span>
                <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">ImportError</span><span style="color: #66cc66;">,</span> e:
                    <span style="color: #ff7700;font-weight:bold;">continue</span>
                <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">AttributeError</span><span style="color: #66cc66;">,</span> e:
                    <span style="color: #ff7700;font-weight:bold;">continue</span>
        <span style="color: #ff7700;font-weight:bold;">else</span>:
            <span style="color: #ff7700;font-weight:bold;">try</span>:
                module <span style="color: #66cc66;">=</span> <span style="color: #008000;">__import__</span><span style="color: black;">&#40;</span>packageName<span style="color: #66cc66;">,</span> <span style="color: #008000;">globals</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">locals</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: black;">&#91;</span>className<span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
                clazz <span style="color: #66cc66;">=</span> <span style="color: #008000;">getattr</span><span style="color: black;">&#40;</span>module<span style="color: #66cc66;">,</span> className<span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">ImportError</span><span style="color: #66cc66;">,</span> e:
                <span style="color: #ff7700;font-weight:bold;">pass</span>
            <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">AttributeError</span><span style="color: #66cc66;">,</span> e:
                <span style="color: #ff7700;font-weight:bold;">pass</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">if</span> clazz <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span>:
            <span style="color: #ff7700;font-weight:bold;">raise</span> <span style="color: #008000;">AttributeError</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'%s class is not exists.'</span> % className<span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">return</span> clazz
&nbsp;
&nbsp;
    <span style="color: #66cc66;">@</span><span style="color: #008000;">classmethod</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> newInstance<span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span>className<span style="color: #66cc66;">,</span>basePackageList<span style="color: #66cc66;">=</span><span style="color: black;">&#91;</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">try</span>:
            clazz <span style="color: #66cc66;">=</span> cls.<span style="color: black;">getClazz</span><span style="color: black;">&#40;</span>className<span style="color: #66cc66;">,</span> basePackageList<span style="color: black;">&#41;</span>
            instance <span style="color: #66cc66;">=</span> clazz<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">ImportError</span><span style="color: #66cc66;">,</span> e:
            <span style="color: #ff7700;font-weight:bold;">pass</span>
        <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">AttributeError</span><span style="color: #66cc66;">,</span> e:
            <span style="color: #ff7700;font-weight:bold;">pass</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">if</span> instance <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span>:
            <span style="color: #ff7700;font-weight:bold;">raise</span> <span style="color: #008000;">AttributeError</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'%s is not exists.'</span> % className<span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">return</span> instance
&nbsp;
    <span style="color: #66cc66;">@</span><span style="color: #008000;">classmethod</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> generatePackageName<span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span>className<span style="color: black;">&#41;</span>:
        split <span style="color: #66cc66;">=</span> cls.<span style="color: black;">BIG_PATTERN</span>.<span style="color: black;">split</span><span style="color: black;">&#40;</span>className<span style="color: black;">&#41;</span>
        findall <span style="color: #66cc66;">=</span> cls.<span style="color: black;">BIG_PATTERN</span>.<span style="color: black;">findall</span><span style="color: black;">&#40;</span>className<span style="color: black;">&#41;</span>
&nbsp;
        str_list <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: black;">&#93;</span>
        white<span style="color: #66cc66;">=</span><span style="color: #ff4500;">0</span>
        <span style="color: #ff7700;font-weight:bold;">for</span> i <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">range</span><span style="color: black;">&#40;</span><span style="color: #008000;">len</span><span style="color: black;">&#40;</span>split<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">if</span> split<span style="color: black;">&#91;</span>i<span style="color: black;">&#93;</span>:
                head <span style="color: #66cc66;">=</span> findall<span style="color: black;">&#91;</span>i-white<span style="color: black;">&#93;</span>.<span style="color: black;">lower</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
                <span style="color: #008000;">str</span> <span style="color: #66cc66;">=</span> head+split<span style="color: black;">&#91;</span>i<span style="color: black;">&#93;</span>
                str_list.<span style="color: black;">append</span><span style="color: black;">&#40;</span><span style="color: #008000;">str</span><span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">else</span>:
                white <span style="color: #66cc66;">=</span> white+<span style="color: #ff4500;">1</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #483d8b;">'_'</span>.<span style="color: black;">join</span><span style="color: black;">&#40;</span>str_list<span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;">class ReflectionUtils(object):
    BIG_PATTERN = re.compile('[A-Z]')
    
    @classmethod
    def getClazz(cls,className,basePackageList=[]):
        packageName = cls.generatePackageName(className)
        
        clazz = None
        if len(basePackageList)&gt;0:
            for basePackage in basePackageList:
                packageName = basePackage+packageName
                try:
                    module = __import__(packageName, globals(), locals(), [className])
                    clazz = getattr(module, className)
                except ImportError, e:
                    continue
                except AttributeError, e:
                    continue
        else:
            try:
                module = __import__(packageName, globals(), locals(), [className])
                clazz = getattr(module, className)
            except ImportError, e:
                pass
            except AttributeError, e:
                pass
        
        if clazz is None:
            raise AttributeError('%s class is not exists.' % className)
        
        return clazz
        
    
    @classmethod
    def newInstance(cls,className,basePackageList=[]):
        try:
            clazz = cls.getClazz(className, basePackageList)
            instance = clazz()
        except ImportError, e:
            pass
        except AttributeError, e:
            pass
        
        if instance is None:
            raise AttributeError('%s is not exists.' % className)
        
        return instance
    
    @classmethod
    def generatePackageName(cls,className):
        split = cls.BIG_PATTERN.split(className)
        findall = cls.BIG_PATTERN.findall(className)
        
        str_list = []
        white=0
        for i in range(len(split)):
            if split[i]:
                head = findall[i-white].lower()
                str = head+split[i]
                str_list.append(str)
            else:
                white = white+1
                
        return '_'.join(str_list)</p></div>

<p>■YamlUtils</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">class</span> YamlUtils<span style="color: black;">&#40;</span><span style="color: #008000;">object</span><span style="color: black;">&#41;</span>:
&nbsp;
    <span style="color: #66cc66;">@</span><span style="color: #008000;">classmethod</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> load<span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span>path<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> yaml.<span style="color: black;">load</span><span style="color: black;">&#40;</span>cls._get_stream<span style="color: black;">&#40;</span>path<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #66cc66;">@</span><span style="color: #008000;">classmethod</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> load_all<span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span>path<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> yaml.<span style="color: black;">load_all</span><span style="color: black;">&#40;</span>cls._get_stream<span style="color: black;">&#40;</span>path<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #66cc66;">@</span><span style="color: #008000;">classmethod</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> _get_stream<span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span>path<span style="color: black;">&#41;</span>:
        fp <span style="color: #66cc66;">=</span> <span style="color: #008000;">open</span><span style="color: black;">&#40;</span>path<span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'r'</span><span style="color: black;">&#41;</span>
        stream <span style="color: #66cc66;">=</span> fp.<span style="color: black;">read</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        fp.<span style="color: black;">close</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> stream</pre></td></tr></table><p class="theCode" style="display:none;">class YamlUtils(object):
    
    @classmethod
    def load(cls,path):
        return yaml.load(cls._get_stream(path))
    
    @classmethod
    def load_all(cls,path):
        return yaml.load_all(cls._get_stream(path))
    
    @classmethod
    def _get_stream(cls,path):
        fp = open(path, 'r')
        stream = fp.read()
        fp.close()
        return stream</p></div>

			              <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- blog-content-bottom2 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9703571485671477"
     data-ad-slot="9222206294"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>  <h2>関連記事</h2>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-9703571485671477"
     data-ad-slot="9505713061"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>		</div><!-- .entry-content -->

        
				<footer class="entry-meta">
			This entry was posted in <a href="/archives/category/dev/" rel="category tag">開発</a> and tagged <a href="/archives/tag/gae/" rel="tag">GAE</a>, <a href="/archives/tag/gaep/" rel="tag">GAE/P</a>, <a href="/archives/tag/validation/" rel="tag">validation</a> on <a href="/archives/1887/" title="11:56" rel="bookmark"><time class="entry-date" datetime="2009-11-25T11:56:35+00:00">2009-11-25</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="/archives/author/fukata/" title="View all posts by fukata" rel="author">fukata</a></span></span>.								</footer><!-- .entry-meta -->
        	</article><!-- #post -->

				<nav class="nav-single">
					<h3 class="assistive-text">Post navigation</h3>
					<span class="nav-previous"><a href="/archives/1848/" rel="prev"><span class="meta-nav">&larr;</span> [BlackBerry]Bold 9000のバッテリカバーを金属製のものに変更しました</a></span>
					<span class="nav-next"><a href="/archives/1901/" rel="next">[JavaScript]IEにて、「注意識別子、文字列または数がありません。」のエラーの回避策 <span class="meta-nav">&rarr;</span></a></span>
				</nav><!-- .nav-single -->

				
<div id="disqus_thread"></div>

			
		</div><!-- #content -->
	</div><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
			
		<aside id="recent-posts-3" class="widget widget_recent_entries">
		<h3 class="widget-title">Recent Posts</h3>
		<ul>
											<li>
					<a href="/archives/9629/">New XPS 13(9370)を半年以上使ってみた感想</a>
									</li>
											<li>
					<a href="/archives/9625/">2018年の振り返り</a>
									</li>
											<li>
					<a href="/archives/9613/">Vue.jsでbeforeunloadを正しく実装する</a>
									</li>
											<li>
					<a href="/archives/9605/">Nuxt.js(@nuxtjs/auth)とRails(omniauth)でTwitterとOAuth認証を行う方法</a>
									</li>
											<li>
					<a href="/archives/9601/">JavaScriptからGoogle Adsenseを動的に表示する方法</a>
									</li>
											<li>
					<a href="/archives/9595/">Windows10でSteamが突然落ちる問題を解決する方法</a>
									</li>
											<li>
					<a href="/archives/9574/">開発マシンをNew XPS 13(9370)にした</a>
									</li>
											<li>
					<a href="/archives/9581/">Saigon Cup 2018を観戦してきた</a>
									</li>
											<li>
					<a href="/archives/9566/">Android One端末の「Xiaomi Mi A1」を2.3万円弱でゲットした</a>
									</li>
											<li>
					<a href="/archives/9556/">バンコクで開催された「Thaiger Uppercut 2018」を観戦してきた</a>
									</li>
					</ul>

		</aside><aside id="tag_cloud-3" class="widget widget_tag_cloud"><h3 class="widget-title">Tags</h3><div class="tagcloud"><a href="/archives/tag/blackberry/" class="tag-cloud-link tag-link-282 tag-link-position-1" style="font-size: 11.36pt;" aria-label="BlackBerry (17 items)">BlackBerry</a>
<a href="/archives/tag/cafebar-petit-plum/" class="tag-cloud-link tag-link-1494 tag-link-position-2" style="font-size: 10.333333333333pt;" aria-label="Cafe+bar Petit plum (13 items)">Cafe+bar Petit plum</a>
<a href="/archives/tag/codeigniter/" class="tag-cloud-link tag-link-153 tag-link-position-3" style="font-size: 9.96pt;" aria-label="CodeIgniter (12 items)">CodeIgniter</a>
<a href="/archives/tag/codeigniter-2-x/" class="tag-cloud-link tag-link-850 tag-link-position-4" style="font-size: 11.08pt;" aria-label="CodeIgniter 2.x (16 items)">CodeIgniter 2.x</a>
<a href="/archives/tag/gr/" class="tag-cloud-link tag-link-1184 tag-link-position-5" style="font-size: 8.9333333333333pt;" aria-label="GR (9 items)">GR</a>
<a href="/archives/tag/jcommunity/" class="tag-cloud-link tag-link-341 tag-link-position-6" style="font-size: 9.3066666666667pt;" aria-label="JCommunity (10 items)">JCommunity</a>
<a href="/archives/tag/motorola-milestone/" class="tag-cloud-link tag-link-801 tag-link-position-7" style="font-size: 8.9333333333333pt;" aria-label="Motorola Milestone (9 items)">Motorola Milestone</a>
<a href="/archives/tag/osse/" class="tag-cloud-link tag-link-1716 tag-link-position-8" style="font-size: 9.96pt;" aria-label="OSSE (12 items)">OSSE</a>
<a href="/archives/tag/release/" class="tag-cloud-link tag-link-880 tag-link-position-9" style="font-size: 16.96pt;" aria-label="Release (72 items)">Release</a>
<a href="/archives/tag/ricoh/" class="tag-cloud-link tag-link-1148 tag-link-position-10" style="font-size: 9.3066666666667pt;" aria-label="RICOH (10 items)">RICOH</a>
<a href="/archives/tag/serversmanvps/" class="tag-cloud-link tag-link-738 tag-link-position-11" style="font-size: 8.9333333333333pt;" aria-label="ServersMan@VPS (9 items)">ServersMan@VPS</a>
<a href="/archives/tag/sukhumvit/" class="tag-cloud-link tag-link-1253 tag-link-position-12" style="font-size: 11.08pt;" aria-label="Sukhumvit (16 items)">Sukhumvit</a>
<a href="/archives/tag/ubuntu/" class="tag-cloud-link tag-link-23 tag-link-position-13" style="font-size: 9.3066666666667pt;" aria-label="ubuntu (10 items)">ubuntu</a>
<a href="/archives/tag/wp-flickr-press/" class="tag-cloud-link tag-link-819 tag-link-position-14" style="font-size: 17.053333333333pt;" aria-label="wp-flickr-press (73 items)">wp-flickr-press</a>
<a href="/archives/tag/%e3%82%ab%e3%83%95%e3%82%a7/" class="tag-cloud-link tag-link-1366 tag-link-position-15" style="font-size: 9.96pt;" aria-label="カフェ (12 items)">カフェ</a>
<a href="/archives/tag/%e3%82%ab%e3%83%ac%e3%83%bc/" class="tag-cloud-link tag-link-303 tag-link-position-16" style="font-size: 10.613333333333pt;" aria-label="カレー (14 items)">カレー</a>
<a href="/archives/tag/%e3%82%ab%e3%83%b3%e3%83%9c%e3%82%b8%e3%82%a2/" class="tag-cloud-link tag-link-1272 tag-link-position-17" style="font-size: 9.3066666666667pt;" aria-label="カンボジア (10 items)">カンボジア</a>
<a href="/archives/tag/%e3%82%b5%e3%83%a0%e3%83%83%e3%83%88%e3%83%97%e3%83%a9%e3%82%ab%e3%83%bc%e3%83%b3/" class="tag-cloud-link tag-link-1275 tag-link-position-18" style="font-size: 12.48pt;" aria-label="サムットプラカーン (23 items)">サムットプラカーン</a>
<a href="/archives/tag/%e3%82%bf%e3%82%a4/" class="tag-cloud-link tag-link-1057 tag-link-position-19" style="font-size: 19.853333333333pt;" aria-label="タイ (147 items)">タイ</a>
<a href="/archives/tag/%e3%82%bf%e3%82%a4%e6%96%99%e7%90%86/" class="tag-cloud-link tag-link-1887 tag-link-position-20" style="font-size: 8.4666666666667pt;" aria-label="タイ料理 (8 items)">タイ料理</a>
<a href="/archives/tag/%e3%83%90%e3%83%b3%e3%82%b3%e3%82%af/" class="tag-cloud-link tag-link-1058 tag-link-position-21" style="font-size: 15.746666666667pt;" aria-label="バンコク (53 items)">バンコク</a>
<a href="/archives/tag/%e3%83%9b%e3%83%86%e3%83%ab/" class="tag-cloud-link tag-link-123 tag-link-position-22" style="font-size: 9.96pt;" aria-label="ホテル (12 items)">ホテル</a>
<a href="/archives/tag/%e3%83%a9%e3%82%aa%e3%82%b9/" class="tag-cloud-link tag-link-1285 tag-link-position-23" style="font-size: 11.36pt;" aria-label="ラオス (17 items)">ラオス</a>
<a href="/archives/tag/%e3%83%a9%e3%83%b3%e3%83%81/" class="tag-cloud-link tag-link-74 tag-link-position-24" style="font-size: 14.533333333333pt;" aria-label="ランチ (39 items)">ランチ</a>
<a href="/archives/tag/%e3%83%ab%e3%82%a2%e3%83%b3%e3%83%91%e3%83%90%e3%83%bc%e3%83%b3/" class="tag-cloud-link tag-link-1435 tag-link-position-25" style="font-size: 9.3066666666667pt;" aria-label="ルアンパバーン (10 items)">ルアンパバーン</a>
<a href="/archives/tag/%e4%b8%89%e8%bb%92%e8%8c%b6%e5%b1%8b/" class="tag-cloud-link tag-link-1609 tag-link-position-26" style="font-size: 8.9333333333333pt;" aria-label="三軒茶屋 (9 items)">三軒茶屋</a>
<a href="/archives/tag/%e4%b8%8a%e6%b5%b7/" class="tag-cloud-link tag-link-53 tag-link-position-27" style="font-size: 8.4666666666667pt;" aria-label="上海 (8 items)">上海</a>
<a href="/archives/tag/%e4%b8%8b%e5%8c%97%e6%b2%a2/" class="tag-cloud-link tag-link-1588 tag-link-position-28" style="font-size: 11.08pt;" aria-label="下北沢 (16 items)">下北沢</a>
<a href="/archives/tag/%e5%8c%97%e6%b5%b7%e9%81%93/" class="tag-cloud-link tag-link-1164 tag-link-position-29" style="font-size: 9.96pt;" aria-label="北海道 (12 items)">北海道</a>
<a href="/archives/tag/%e5%a4%96%e9%a3%9f/" class="tag-cloud-link tag-link-1982 tag-link-position-30" style="font-size: 22pt;" aria-label="外食 (248 items)">外食</a>
<a href="/archives/tag/%e5%af%bf%e5%8f%b8/" class="tag-cloud-link tag-link-1513 tag-link-position-31" style="font-size: 8.4666666666667pt;" aria-label="寿司 (8 items)">寿司</a>
<a href="/archives/tag/%e6%97%85%e8%a1%8c/" class="tag-cloud-link tag-link-1165 tag-link-position-32" style="font-size: 9.68pt;" aria-label="旅行 (11 items)">旅行</a>
<a href="/archives/tag/%e6%97%a5%e6%9c%ac/" class="tag-cloud-link tag-link-1455 tag-link-position-33" style="font-size: 21.066666666667pt;" aria-label="日本 (198 items)">日本</a>
<a href="/archives/tag/%e6%9c%ad%e5%b9%8c/" class="tag-cloud-link tag-link-714 tag-link-position-34" style="font-size: 9.3066666666667pt;" aria-label="札幌 (10 items)">札幌</a>
<a href="/archives/tag/%e6%9d%b1%e4%ba%ac/" class="tag-cloud-link tag-link-131 tag-link-position-35" style="font-size: 20.413333333333pt;" aria-label="東京 (170 items)">東京</a>
<a href="/archives/tag/%e6%9d%b1%e5%8d%97%e3%82%a2%e3%82%b8%e3%82%a2/" class="tag-cloud-link tag-link-1130 tag-link-position-36" style="font-size: 20.693333333333pt;" aria-label="東南アジア (181 items)">東南アジア</a>
<a href="/archives/tag/%e6%a9%9f%e6%9d%90/" class="tag-cloud-link tag-link-1983 tag-link-position-37" style="font-size: 11.733333333333pt;" aria-label="機材 (19 items)">機材</a>
<a href="/archives/tag/%e6%b8%8b%e8%b0%b7/" class="tag-cloud-link tag-link-1162 tag-link-position-38" style="font-size: 10.613333333333pt;" aria-label="渋谷 (14 items)">渋谷</a>
<a href="/archives/tag/%e7%a6%8f%e5%b2%a1/" class="tag-cloud-link tag-link-27 tag-link-position-39" style="font-size: 8.4666666666667pt;" aria-label="福岡 (8 items)">福岡</a>
<a href="/archives/tag/%e7%b5%8c%e5%a0%82/" class="tag-cloud-link tag-link-1507 tag-link-position-40" style="font-size: 12.666666666667pt;" aria-label="経堂 (24 items)">経堂</a>
<a href="/archives/tag/%e8%87%aa%e7%82%8a/" class="tag-cloud-link tag-link-1981 tag-link-position-41" style="font-size: 8.4666666666667pt;" aria-label="自炊 (8 items)">自炊</a>
<a href="/archives/tag/%e8%a1%a8%e5%8f%82%e9%81%93/" class="tag-cloud-link tag-link-1486 tag-link-position-42" style="font-size: 12.76pt;" aria-label="表参道 (25 items)">表参道</a>
<a href="/archives/tag/%e8%b1%aa%e5%be%b3%e5%af%ba/" class="tag-cloud-link tag-link-1483 tag-link-position-43" style="font-size: 13.413333333333pt;" aria-label="豪徳寺 (29 items)">豪徳寺</a>
<a href="/archives/tag/%e8%b2%b7%e3%81%84%e7%89%a9/" class="tag-cloud-link tag-link-1319 tag-link-position-44" style="font-size: 12.293333333333pt;" aria-label="買い物 (22 items)">買い物</a>
<a href="/archives/tag/%e9%81%ba%e8%b7%a1/" class="tag-cloud-link tag-link-1283 tag-link-position-45" style="font-size: 8pt;" aria-label="遺跡 (7 items)">遺跡</a></div>
</aside><aside id="categories-281282962" class="widget widget_categories"><h3 class="widget-title">Categories</h3>
			<ul>
					<li class="cat-item cat-item-1137"><a href="/archives/category/camera/">カメラ</a> (52)
</li>
	<li class="cat-item cat-item-1278"><a href="/archives/category/travel/">旅行</a> (140)
</li>
	<li class="cat-item cat-item-1980"><a href="/archives/category/dev/">開発</a> (306)
</li>
	<li class="cat-item cat-item-1156"><a href="/archives/category/note/">雑記</a> (148)
</li>
	<li class="cat-item cat-item-1482"><a href="/archives/category/eating/">食事</a> (261)
</li>
			</ul>

			</aside><aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">Archives</h3>		<label class="screen-reader-text" for="archives-dropdown-2">Archives</label>
		<select id="archives-dropdown-2" name="archive-dropdown">
			
			<option value="">Select Month</option>
				<option value='/archives/date/2018/12/'> December 2018 &nbsp;(2)</option>
	<option value='/archives/date/2018/11/'> November 2018 &nbsp;(3)</option>
	<option value='/archives/date/2018/06/'> June 2018 &nbsp;(2)</option>
	<option value='/archives/date/2018/05/'> May 2018 &nbsp;(1)</option>
	<option value='/archives/date/2018/03/'> March 2018 &nbsp;(7)</option>
	<option value='/archives/date/2018/02/'> February 2018 &nbsp;(4)</option>
	<option value='/archives/date/2018/01/'> January 2018 &nbsp;(8)</option>
	<option value='/archives/date/2017/12/'> December 2017 &nbsp;(11)</option>
	<option value='/archives/date/2017/11/'> November 2017 &nbsp;(4)</option>
	<option value='/archives/date/2017/10/'> October 2017 &nbsp;(11)</option>
	<option value='/archives/date/2017/09/'> September 2017 &nbsp;(12)</option>
	<option value='/archives/date/2017/08/'> August 2017 &nbsp;(10)</option>
	<option value='/archives/date/2017/07/'> July 2017 &nbsp;(3)</option>
	<option value='/archives/date/2017/06/'> June 2017 &nbsp;(6)</option>
	<option value='/archives/date/2017/04/'> April 2017 &nbsp;(3)</option>
	<option value='/archives/date/2017/03/'> March 2017 &nbsp;(11)</option>
	<option value='/archives/date/2017/02/'> February 2017 &nbsp;(2)</option>
	<option value='/archives/date/2017/01/'> January 2017 &nbsp;(4)</option>
	<option value='/archives/date/2016/12/'> December 2016 &nbsp;(12)</option>
	<option value='/archives/date/2016/11/'> November 2016 &nbsp;(3)</option>
	<option value='/archives/date/2016/08/'> August 2016 &nbsp;(2)</option>
	<option value='/archives/date/2016/07/'> July 2016 &nbsp;(6)</option>
	<option value='/archives/date/2016/06/'> June 2016 &nbsp;(15)</option>
	<option value='/archives/date/2016/05/'> May 2016 &nbsp;(36)</option>
	<option value='/archives/date/2016/04/'> April 2016 &nbsp;(14)</option>
	<option value='/archives/date/2016/03/'> March 2016 &nbsp;(14)</option>
	<option value='/archives/date/2016/02/'> February 2016 &nbsp;(12)</option>
	<option value='/archives/date/2016/01/'> January 2016 &nbsp;(13)</option>
	<option value='/archives/date/2015/12/'> December 2015 &nbsp;(3)</option>
	<option value='/archives/date/2015/11/'> November 2015 &nbsp;(6)</option>
	<option value='/archives/date/2015/08/'> August 2015 &nbsp;(3)</option>
	<option value='/archives/date/2015/07/'> July 2015 &nbsp;(5)</option>
	<option value='/archives/date/2015/06/'> June 2015 &nbsp;(9)</option>
	<option value='/archives/date/2015/05/'> May 2015 &nbsp;(4)</option>
	<option value='/archives/date/2015/04/'> April 2015 &nbsp;(3)</option>
	<option value='/archives/date/2015/03/'> March 2015 &nbsp;(1)</option>
	<option value='/archives/date/2015/02/'> February 2015 &nbsp;(3)</option>
	<option value='/archives/date/2015/01/'> January 2015 &nbsp;(3)</option>
	<option value='/archives/date/2014/12/'> December 2014 &nbsp;(1)</option>
	<option value='/archives/date/2014/11/'> November 2014 &nbsp;(3)</option>
	<option value='/archives/date/2014/09/'> September 2014 &nbsp;(5)</option>
	<option value='/archives/date/2014/08/'> August 2014 &nbsp;(6)</option>
	<option value='/archives/date/2014/07/'> July 2014 &nbsp;(6)</option>
	<option value='/archives/date/2014/06/'> June 2014 &nbsp;(2)</option>
	<option value='/archives/date/2014/05/'> May 2014 &nbsp;(12)</option>
	<option value='/archives/date/2014/04/'> April 2014 &nbsp;(8)</option>
	<option value='/archives/date/2014/03/'> March 2014 &nbsp;(15)</option>
	<option value='/archives/date/2014/02/'> February 2014 &nbsp;(2)</option>
	<option value='/archives/date/2014/01/'> January 2014 &nbsp;(12)</option>
	<option value='/archives/date/2013/12/'> December 2013 &nbsp;(19)</option>
	<option value='/archives/date/2013/11/'> November 2013 &nbsp;(1)</option>
	<option value='/archives/date/2013/09/'> September 2013 &nbsp;(7)</option>
	<option value='/archives/date/2013/08/'> August 2013 &nbsp;(15)</option>
	<option value='/archives/date/2013/07/'> July 2013 &nbsp;(19)</option>
	<option value='/archives/date/2013/06/'> June 2013 &nbsp;(26)</option>
	<option value='/archives/date/2013/05/'> May 2013 &nbsp;(13)</option>
	<option value='/archives/date/2013/04/'> April 2013 &nbsp;(9)</option>
	<option value='/archives/date/2013/03/'> March 2013 &nbsp;(10)</option>
	<option value='/archives/date/2013/02/'> February 2013 &nbsp;(14)</option>
	<option value='/archives/date/2013/01/'> January 2013 &nbsp;(4)</option>
	<option value='/archives/date/2012/12/'> December 2012 &nbsp;(5)</option>
	<option value='/archives/date/2012/11/'> November 2012 &nbsp;(14)</option>
	<option value='/archives/date/2012/10/'> October 2012 &nbsp;(5)</option>
	<option value='/archives/date/2012/09/'> September 2012 &nbsp;(18)</option>
	<option value='/archives/date/2012/08/'> August 2012 &nbsp;(8)</option>
	<option value='/archives/date/2012/07/'> July 2012 &nbsp;(25)</option>
	<option value='/archives/date/2012/06/'> June 2012 &nbsp;(18)</option>
	<option value='/archives/date/2012/05/'> May 2012 &nbsp;(13)</option>
	<option value='/archives/date/2012/04/'> April 2012 &nbsp;(2)</option>
	<option value='/archives/date/2012/03/'> March 2012 &nbsp;(3)</option>
	<option value='/archives/date/2012/02/'> February 2012 &nbsp;(13)</option>
	<option value='/archives/date/2012/01/'> January 2012 &nbsp;(7)</option>
	<option value='/archives/date/2011/12/'> December 2011 &nbsp;(12)</option>
	<option value='/archives/date/2011/11/'> November 2011 &nbsp;(16)</option>
	<option value='/archives/date/2011/10/'> October 2011 &nbsp;(21)</option>
	<option value='/archives/date/2011/09/'> September 2011 &nbsp;(9)</option>
	<option value='/archives/date/2011/08/'> August 2011 &nbsp;(5)</option>
	<option value='/archives/date/2011/07/'> July 2011 &nbsp;(4)</option>
	<option value='/archives/date/2011/06/'> June 2011 &nbsp;(16)</option>
	<option value='/archives/date/2011/05/'> May 2011 &nbsp;(5)</option>
	<option value='/archives/date/2011/04/'> April 2011 &nbsp;(12)</option>
	<option value='/archives/date/2011/03/'> March 2011 &nbsp;(11)</option>
	<option value='/archives/date/2011/02/'> February 2011 &nbsp;(4)</option>
	<option value='/archives/date/2011/01/'> January 2011 &nbsp;(5)</option>
	<option value='/archives/date/2010/12/'> December 2010 &nbsp;(6)</option>
	<option value='/archives/date/2010/11/'> November 2010 &nbsp;(12)</option>
	<option value='/archives/date/2010/10/'> October 2010 &nbsp;(5)</option>
	<option value='/archives/date/2010/09/'> September 2010 &nbsp;(6)</option>
	<option value='/archives/date/2010/08/'> August 2010 &nbsp;(3)</option>
	<option value='/archives/date/2010/07/'> July 2010 &nbsp;(6)</option>
	<option value='/archives/date/2010/06/'> June 2010 &nbsp;(2)</option>
	<option value='/archives/date/2010/05/'> May 2010 &nbsp;(14)</option>
	<option value='/archives/date/2010/04/'> April 2010 &nbsp;(5)</option>
	<option value='/archives/date/2010/03/'> March 2010 &nbsp;(5)</option>
	<option value='/archives/date/2010/02/'> February 2010 &nbsp;(10)</option>
	<option value='/archives/date/2010/01/'> January 2010 &nbsp;(8)</option>
	<option value='/archives/date/2009/12/'> December 2009 &nbsp;(5)</option>
	<option value='/archives/date/2009/11/'> November 2009 &nbsp;(8)</option>
	<option value='/archives/date/2009/10/'> October 2009 &nbsp;(8)</option>
	<option value='/archives/date/2009/09/'> September 2009 &nbsp;(3)</option>
	<option value='/archives/date/2009/08/'> August 2009 &nbsp;(2)</option>
	<option value='/archives/date/2009/07/'> July 2009 &nbsp;(11)</option>
	<option value='/archives/date/2009/06/'> June 2009 &nbsp;(7)</option>
	<option value='/archives/date/2009/05/'> May 2009 &nbsp;(11)</option>
	<option value='/archives/date/2009/04/'> April 2009 &nbsp;(2)</option>
	<option value='/archives/date/2009/03/'> March 2009 &nbsp;(1)</option>
	<option value='/archives/date/2009/01/'> January 2009 &nbsp;(3)</option>
	<option value='/archives/date/2008/12/'> December 2008 &nbsp;(1)</option>
	<option value='/archives/date/2008/11/'> November 2008 &nbsp;(3)</option>
	<option value='/archives/date/2008/10/'> October 2008 &nbsp;(2)</option>
	<option value='/archives/date/2008/09/'> September 2008 &nbsp;(1)</option>
	<option value='/archives/date/2008/08/'> August 2008 &nbsp;(2)</option>
	<option value='/archives/date/2008/07/'> July 2008 &nbsp;(3)</option>
	<option value='/archives/date/2008/05/'> May 2008 &nbsp;(4)</option>
	<option value='/archives/date/2008/04/'> April 2008 &nbsp;(2)</option>
	<option value='/archives/date/2008/03/'> March 2008 &nbsp;(4)</option>
	<option value='/archives/date/2008/02/'> February 2008 &nbsp;(5)</option>
	<option value='/archives/date/2008/01/'> January 2008 &nbsp;(1)</option>
	<option value='/archives/date/2007/12/'> December 2007 &nbsp;(2)</option>
	<option value='/archives/date/2007/11/'> November 2007 &nbsp;(1)</option>
	<option value='/archives/date/2007/10/'> October 2007 &nbsp;(1)</option>
	<option value='/archives/date/2007/09/'> September 2007 &nbsp;(1)</option>

		</select>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "archives-dropdown-2" );
	function onSelectChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value !== '' ) {
			document.location.href = this.options[ this.selectedIndex ].value;
		}
	}
	dropdown.onchange = onSelectChange;
})();
/* ]]> */
</script>
			</aside>		</div><!-- #secondary -->
		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info">
            Powered by WordPress 5.6, PHP: 7.1.12		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->


<!-- BEGIN: WP Social Bookmarking Light FOOTER -->
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<!-- END: WP Social Bookmarking Light FOOTER -->
<script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"fukata"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/disqus-comment-system/public/js/comment_count.js?ver=3.0.17' id='disqus_count-js'></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.17"},"disqusIdentifier":"1887 http:\/\/fukata.org\/?p=1887","disqusShortname":"fukata","disqusTitle":"[GAE\/P]\u72ec\u81ea\u306eValidationManager\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f","disqusUrl":"\/archives\/1887\/","postId":"1887"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/disqus-comment-system/public/js/comment_embed.js?ver=3.0.17' id='disqus_embed-js'></script>
<script type='text/javascript' id='toc-front-js-extra'>
/* <![CDATA[ */
var tocplus = {"smooth_scroll":"1","visibility_show":"\u8868\u793a","visibility_hide":"\u975e\u8868\u793a","width":"100%"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/table-of-contents-plus/front.min.js?ver=1509' id='toc-front-js'></script>
<script type='text/javascript' src='/wp-content/plugins/wp-syntax/js/wp-syntax.js?ver=1.1' id='wp-syntax-js-js'></script>
<script type='text/javascript' src='/wp-includes/js/comment-reply.min.js?ver=5.6' id='comment-reply-js'></script>
<script type='text/javascript' src='/wp-content/themes/subblog_v2/js/navigation.js?ver=1.0' id='twentytwelve-navigation-js'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=5.6' id='wp-embed-js'></script>
</body>
</html>