<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<meta name='B-verify' content='1eef0dd0da25b13b2fae70673c38f59bb11c954e' />
<title>[GAE/P]国際化に対応してみました　〜その１〜 | blog.fukata.org</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="/wp-content/themes/subblog_v2/js/html5.js" type="text/javascript"></script>
<![endif]-->
<!-- JM Twitter Cards by Julien Maury 10.0.1 -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@fukata">
<meta name="twitter:site" content="@fukata">
<meta property="og:title" content="[GAE/P]国際化に対応してみました　〜その１〜">
<meta property="og:description" content="現在、GAE/P環境にて作成しているアプリの国際化を対応してみました。Django-1.0やKayといったFWを使って国際化も対応できるようですが、今更変更する">
<!-- /JM Twitter Cards by Julien Maury 10.0.1 -->

<!-- All in One SEO Pack 3.3.4 by Michael Torbert of Semper Fi Web Design[-1,-1] -->
<meta name="description"  content="現在、GAE/P環境にて作成しているアプリの国際化を対応してみました。Django-1.0やKayといったFWを使って国際化も対応できるようですが、今更変更するのもだるかったので、標準の環境で対応しました。 多分、次に作成するなら、標準の環境ではなく、他のFWを試すかもしれません。" />

<meta name="keywords"  content="gae,gae/p,python,開発" />

<script type="application/ld+json" class="aioseop-schema">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"/#organization","url":"/","name":"blog.fukata.org","sameAs":[]},{"@type":"WebSite","@id":"/#website","url":"/","name":"blog.fukata.org","publisher":{"@id":"/#organization"}},{"@type":"WebPage","@id":"/archives/1823/#webpage","url":"/archives/1823/","inLanguage":"en-US","name":"[GAE/P]\u56fd\u969b\u5316\u306b\u5bfe\u5fdc\u3057\u3066\u307f\u307e\u3057\u305f\u3000\u301c\u305d\u306e\uff11\u301c","isPartOf":{"@id":"/#website"},"datePublished":"2009-11-01T13:44:20+00:00","dateModified":"2017-08-11T22:59:08+00:00"},{"@type":"Article","@id":"/archives/1823/#article","isPartOf":{"@id":"/archives/1823/#webpage"},"author":{"@id":"/archives/author/fukata/#author"},"headline":"[GAE/P]\u56fd\u969b\u5316\u306b\u5bfe\u5fdc\u3057\u3066\u307f\u307e\u3057\u305f\u3000\u301c\u305d\u306e\uff11\u301c","datePublished":"2009-11-01T13:44:20+00:00","dateModified":"2017-08-11T22:59:08+00:00","commentCount":0,"mainEntityOfPage":{"@id":"/archives/1823/#webpage"},"publisher":{"@id":"/#organization"},"articleSection":"\u958b\u767a, GAE, GAE/P, Python"},{"@type":"Person","@id":"/archives/author/fukata/#author","name":"fukata","sameAs":[],"image":{"@type":"ImageObject","@id":"/#personlogo","url":"https://secure.gravatar.com/avatar/d599ee931abe1222d97129eeeab95ad6?s=96&d=mm&r=g","width":96,"height":96,"caption":"fukata"}}]}</script>
<!-- All in One SEO Pack -->
<link rel='dns-prefetch' href='' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="blog.fukata.org &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="blog.fukata.org &raquo; Comments Feed" href="/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="blog.fukata.org &raquo; [GAE/P]国際化に対応してみました　〜その１〜 Comments Feed" href="/archives/1823/feed/" />
<!-- This site uses the Google Analytics by MonsterInsights plugin v7.10.4 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<script type="text/javascript" data-cfasync="false">
	var mi_version         = '7.10.4';
	var mi_track_user      = true;
	var mi_no_track_reason = '';
	
	var disableStr = 'ga-disable-UA-19570640-21';

	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}
	
	if ( mi_track_user ) {
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

		__gaTracker('create', 'UA-19570640-21', 'auto');
		__gaTracker('set', 'forceSSL', true);
		__gaTracker('require', 'displayfeatures');
		__gaTracker('send','pageview');
	} else {
		console.log( "" );
		(function() {
			/* https://developers.google.com/analytics/devguides/collection/analyticsjs/ */
			var noopfn = function() {
				return null;
			};
			var noopnullfn = function() {
				return null;
			};
			var Tracker = function() {
				return null;
			};
			var p = Tracker.prototype;
			p.get = noopfn;
			p.set = noopfn;
			p.send = noopfn;
			var __gaTracker = function() {
				var len = arguments.length;
				if ( len === 0 ) {
					return;
				}
				var f = arguments[len-1];
				if ( typeof f !== 'object' || f === null || typeof f.hitCallback !== 'function' ) {
					console.log( 'Not running function __gaTracker(' + arguments[0] + " ....) because you are not being tracked. " + mi_no_track_reason );
					return;
				}
				try {
					f.hitCallback();
				} catch (ex) {

				}
			};
			__gaTracker.create = function() {
				return new Tracker();
			};
			__gaTracker.getByName = noopnullfn;
			__gaTracker.getAll = function() {
				return [];
			};
			__gaTracker.remove = noopfn;
			window['__gaTracker'] = __gaTracker;
					})();
		}
</script>
<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.6"}};
			!function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='/wp-includes/css/dist/block-library/style.min.css?ver=5.6' type='text/css' media='all' />
<link rel='stylesheet' id='toc-screen-css'  href='/wp-content/plugins/table-of-contents-plus/screen.min.css?ver=1509' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-fonts-css'  href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&#038;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-style-css'  href='/wp-content/themes/subblog_v2/style.css?ver=5.6' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='/wp-content/themes/subblog_v2/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' id='monsterinsights-frontend-script-js-extra'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,pdf,ppt,zip,xls,docx,pptx,xlsx","inbound_paths":"[]","home_url":"","hash_tracking":"false"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/google-analytics-for-wordpress/assets/js/frontend.min.js?ver=7.10.4' id='monsterinsights-frontend-script-js'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.min.js?ver=3.5.1' id='jquery-core-js'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<link rel="https://api.w.org/" href="/wp-json/" /><link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/1823" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.6" />
<link rel="canonical" href="/archives/1823/" />
<link rel='shortlink' href='/?p=1823' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2Farchives%2F1823%2F" />
<meta name="google-site-verification" content="yjvKGgbcWE3PHz6TpeUVsUpgV_igFWiuFjeo8u1oBSg" /><style type="text/css">div#toc_container {width: 100%;}</style>
<!-- BEGIN: WP-OGP by http://www.millerswebsite.co.uk Version: 1.0.5  -->
<meta property="og:title" content="[GAE/P]国際化に対応してみました　〜その１〜" />
<meta property="og:type" content="article" />
<meta property="og:image" content="/wp-content/plugins/wp-ogp/default.jpg" />
<meta property="image_src" content="/wp-content/plugins/wp-ogp/default.jpg" />
<meta property="og:url" content="/archives/1823/" />
<meta property="og:site_name" content="blog.fukata.org" />
<meta property="og:description" content="現在、GAE/P環境にて作成しているアプリの国際化を対応してみました。Django-1.0やKayといったFWを使って国際化も対応できるようですが、今更変更するのもだるかったので、標準の環境で対応しました。 多分、次に作成するなら、標準の環境ではなく、他のFWを試すかもしれません。 とまぁ、自分のことは置いといて早速、国際化の手順を書いていきたいと思います。まずは、最終的な構成を書きます。  . `-- src   |-- app.yaml   |-- conf   |  |-- locale   |  |  |-- en   |  |  |  `-- LC_MESSAGES   |  |  |    |-- django.mo   |  |  |    `-- django.po   |  |  `-- ja   |  ..." />
<!-- END: WP-OGP by http://www.millerswebsite.co.uk Version: 1.0.5 -->

<!-- BEGIN: WP Social Bookmarking Light HEAD -->


<script>
    (function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>

<style type="text/css">
    .wp_social_bookmarking_light{
    border: 0 !important;
    padding: 10px 0 20px 0 !important;
    margin: 0 !important;
}
.wp_social_bookmarking_light div{
    float: left !important;
    border: 0 !important;
    padding: 0 !important;
    margin: 0 5px 0px 0 !important;
    min-height: 30px !important;
    line-height: 18px !important;
    text-indent: 0 !important;
}
.wp_social_bookmarking_light img{
    border: 0 !important;
    padding: 0;
    margin: 0;
    vertical-align: top !important;
}
.wp_social_bookmarking_light_clear{
    clear: both !important;
}
#fb-root{
    display: none;
}
.wsbl_twitter{
    width: 100px;
}
.wsbl_facebook_like iframe{
    max-width: none !important;
}
.wsbl_pinterest a{
    border: 0px !important;
}
</style>
<!-- END: WP Social Bookmarking Light HEAD -->
	<style type="text/css">
			.site-title a,
		.site-description {
			color: #444444 !important;
		}
	        .widget-title {
            background-color: #444444;
        }
        .entry-content h2 {
            border-left: #444444 solid 10px;
            padding-left: 10px;
        }
	</style>
	<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #282c34; }
</style>
	</head>

<body class="post-template-default single single-post postid-1823 single-format-standard custom-background custom-font-enabled">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<hgroup>
			<h1 class="site-title"><a href="/" title="blog.fukata.org" rel="home">blog.fukata.org</a></h1>
			<h2 class="site-description">旅するプログラマ</h2>
		</hgroup>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<h3 class="menu-toggle">Menu</h3>
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
      <div class="menu-menu-1-container"><ul id="menu-menu-1" class="nav-menu"><li id="menu-item-7952" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-7952"><a href="/">Home</a></li>
<li id="menu-item-8057" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8057"><a href="/archives/category/travel/">旅行</a></li>
<li id="menu-item-8055" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8055"><a href="/archives/category/eating/">食事</a></li>
<li id="menu-item-8056" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8056"><a href="/archives/category/camera/">カメラ</a></li>
<li id="menu-item-8785" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-8785"><a href="/archives/category/dev/">開発</a></li>
<li id="menu-item-8786" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8786"><a href="/archives/category/note/">雑記</a></li>
<li id="menu-item-7971" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7971"><a href="https://twitter.com/fukata/">Twitter</a></li>
<li id="menu-item-7972" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7972"><a href="https://www.facebook.com/fukata.org">Facebook</a></li>
<li id="menu-item-7973" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7973"><a href="https://www.youtube.com/c/FukataOrg">YouTube</a></li>
<li id="menu-item-7974" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7974"><a href="https://www.instagram.com/tatsuya_fukata/">Instagram</a></li>
</ul></div>		</nav><!-- #site-navigation -->

			</header><!-- #masthead -->

	<div id="main" class="wrapper">

	<div id="primary" class="site-content">
		<div id="content" role="main">

			
				
	<article id="post-1823" class="post-1823 post type-post status-publish format-standard has-post-thumbnail hentry category-dev tag-gae tag-gaep tag-python">
		        		<header class="entry-header">
            <h1 class="entry-title">[GAE/P]国際化に対応してみました　〜その１〜</h1>
							<div class="comments-link">
					<a href="/archives/1823/#respond"><span class="dsq-postid" data-dsqidentifier="1823 http://fukata.org/?p=1823"><span class="leave-reply">Leave a reply</span></span></a>				</div><!-- .comments-link -->
			        </header><!-- .entry-header -->

		<!-- .entry-summary -->
		<div class="entry-content">
			<div class='wp_social_bookmarking_light'>
            <div class="wsbl_hatena_button"><a href="//b.hatena.ne.jp/entry//archives/1823/" class="hatena-bookmark-button" data-hatena-bookmark-title="[GAE/P]国際化に対応してみました　〜その１〜" data-hatena-bookmark-layout="simple-balloon" title="Bookmark this on Hatena Bookmark"> <img src="//b.hatena.ne.jp/images/entry-button/button-only@2x.png" alt="Bookmark this on Hatena Bookmark" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="//b.hatena.ne.jp/js/bookmark_button.js" charset="utf-8" async="async"></script></div>
            <div class="wsbl_facebook_share"><div id="fb-root"></div><div class="fb-share-button" data-href="/archives/1823/" data-type="button_count"></div></div>
            <div class="wsbl_twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="/archives/1823/" data-text="[GAE/P]国際化に対応してみました　〜その１〜">Tweet</a></div>
            <div class="wsbl_line"><a href='http://line.me/R/msg/text/?%5BGAE%2FP%5D%E5%9B%BD%E9%9A%9B%E5%8C%96%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%97%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%81%9F%E3%80%80%E3%80%9C%E3%81%9D%E3%81%AE%EF%BC%91%E3%80%9C%0D%0A%2Farchives%2F1823%2F' title='LINEで送る' rel=nofollow class='wp_social_bookmarking_light_a' ><img src='/wp-content/plugins/wp-social-bookmarking-light/public/images/line88x20.png' alt='LINEで送る' title='LINEで送る' width='88' height='20' class='wp_social_bookmarking_light_img' /></a></div>
    </div>
<br class='wp_social_bookmarking_light_clear' />
<p>現在、GAE/P環境にて作成しているアプリの国際化を対応してみました。Django-1.0やKayといったFWを使って国際化も対応できるようですが、今更変更するのもだるかったので、標準の環境で対応しました。</p>
<p>多分、次に作成するなら、標準の環境ではなく、他のFWを試すかもしれません。</p>
<p>とまぁ、自分のことは置いといて早速、国際化の手順を書いていきたいと思います。まずは、最終的な構成を書きます。</p>
<pre>
.
`-- src
    |-- app.yaml
    |-- conf
    |   |-- locale
    |   |   |-- en
    |   |   |   `-- LC_MESSAGES
    |   |   |       |-- django.mo
    |   |   |       `-- django.po
    |   |   `-- ja
    |   |       `-- LC_MESSAGES
    |   |           |-- django.mo
    |   |           `-- django.po
    |   `-- settings.py
    `-- org
        `-- fukata
            `-- mapshare
                |-- public
                |   |-- css
                |   |-- img
                |   `-- js
                `-- system
                    |-- handler
                    |   |-- i18NRequestHandler.py
                    |   |-- pc
                    |   |   `-- index.py
                    |   `-- webapi
                    |-- model
                    |-- template
                    |   `-- pc
                    `-- utils
                         `-- cookies.py
</pre>
<p>今回、国際化の為に新規に追加のは以下のファイル群都なります。</p>
<ul>
<li>config/settings.py</li>
<li>config/locale/*</li>
<li>org/fukata/mapshare/system/i18NRequestHandler.py</li>
<li>org/fukata/mapshare/system/utils/cookies.py</li>
</ul>
<p>次に各ファイルの内容になります。言語ファイル（.po, .mo）に関しては省きたいと思います。</p>
<p>■config/settings.py</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre class="python" style="font-family:monospace;"> USE_I18N <span style="color: #66cc66;">=</span> <span style="color: #008000;">True</span>
&nbsp;
 <span style="color: #808080; font-style: italic;"># Valid languages</span>
 LANGUAGES <span style="color: #66cc66;">=</span> <span style="color: black;">&#40;</span>
     <span style="color: #808080; font-style: italic;"># 'en', 'zh_TW' should match the directories in conf/locale/*</span>
     <span style="color: black;">&#40;</span><span style="color: #483d8b;">'en'</span><span style="color: #66cc66;">,</span> _<span style="color: black;">&#40;</span><span style="color: #483d8b;">'English'</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">&#40;</span><span style="color: #483d8b;">'ja'</span><span style="color: #66cc66;">,</span> _<span style="color: black;">&#40;</span><span style="color: #483d8b;">'Japanese'</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">&#41;</span>
&nbsp;
 <span style="color: #808080; font-style: italic;"># This is a default language</span>
 LANGUAGE_CODE <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'ja'</span></pre></td></tr></table><p class="theCode" style="display:none;"> USE_I18N = True
 
 # Valid languages
 LANGUAGES = (
     # 'en', 'zh_TW' should match the directories in conf/locale/*
     ('en', _('English')),
     ('ja', _('Japanese')),
     )
 
 # This is a default language
 LANGUAGE_CODE = 'ja'</p></div>

<p>■org/fukata/mapshare/system/i18NRequestHandler.py</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="code"><pre class="python" style="font-family:monospace;"> <span style="color: #ff7700;font-weight:bold;">from</span> django.<span style="color: black;">utils</span> <span style="color: #ff7700;font-weight:bold;">import</span> translation
 <span style="color: #ff7700;font-weight:bold;">from</span> google.<span style="color: black;">appengine</span>.<span style="color: black;">ext</span> <span style="color: #ff7700;font-weight:bold;">import</span> webapp
 <span style="color: #ff7700;font-weight:bold;">from</span> org.<span style="color: black;">fukata</span>.<span style="color: black;">mapshare</span>.<span style="color: black;">system</span>.<span style="color: black;">utils</span>.<span style="color: black;">cookies</span> <span style="color: #ff7700;font-weight:bold;">import</span> Cookies
 <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">os</span>
&nbsp;
 <span style="color: #dc143c;">os</span>.<span style="color: black;">environ</span><span style="color: black;">&#91;</span><span style="color: #483d8b;">'DJANGO_SETTINGS_MODULE'</span><span style="color: black;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'conf.settings'</span>
 <span style="color: #ff7700;font-weight:bold;">from</span> django.<span style="color: black;">conf</span> <span style="color: #ff7700;font-weight:bold;">import</span> settings
 <span style="color: #808080; font-style: italic;"># Force Django to reload settings</span>
 settings._target <span style="color: #66cc66;">=</span> <span style="color: #008000;">None</span>
&nbsp;
 <span style="color: #ff7700;font-weight:bold;">class</span> I18NRequestHandler<span style="color: black;">&#40;</span>webapp.<span style="color: black;">RequestHandler</span><span style="color: black;">&#41;</span>:
&nbsp;
     <span style="color: #ff7700;font-weight:bold;">def</span> initialize<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> request<span style="color: #66cc66;">,</span> response<span style="color: black;">&#41;</span>:
         webapp.<span style="color: black;">RequestHandler</span>.<span style="color: black;">initialize</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> request<span style="color: #66cc66;">,</span> response<span style="color: black;">&#41;</span>
&nbsp;
         <span style="color: #008000;">self</span>.<span style="color: black;">request</span>.<span style="color: black;">COOKIES</span> <span style="color: #66cc66;">=</span> Cookies<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
         <span style="color: #008000;">self</span>.<span style="color: black;">request</span>.<span style="color: black;">META</span> <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">environ</span>
         <span style="color: #008000;">self</span>.<span style="color: black;">reset_language</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
     <span style="color: #ff7700;font-weight:bold;">def</span> reset_language<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
&nbsp;
         <span style="color: #808080; font-style: italic;"># Decide the language from Cookies/Headers</span>
         language <span style="color: #66cc66;">=</span> translation.<span style="color: black;">get_language_from_request</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">request</span><span style="color: black;">&#41;</span>
         translation.<span style="color: black;">activate</span><span style="color: black;">&#40;</span>language<span style="color: black;">&#41;</span>
         <span style="color: #008000;">self</span>.<span style="color: black;">request</span>.<span style="color: black;">LANGUAGE_CODE</span> <span style="color: #66cc66;">=</span> translation.<span style="color: black;">get_language</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
         <span style="color: #808080; font-style: italic;"># Set headers in response</span>
         <span style="color: #008000;">self</span>.<span style="color: black;">response</span>.<span style="color: black;">headers</span><span style="color: black;">&#91;</span><span style="color: #483d8b;">'Content-Language'</span><span style="color: black;">&#93;</span> <span style="color: #66cc66;">=</span> translation.<span style="color: black;">get_language</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
 <span style="color: #808080; font-style: italic;">#        translation.deactivate()</span></pre></td></tr></table><p class="theCode" style="display:none;"> from django.utils import translation
 from google.appengine.ext import webapp
 from org.fukata.mapshare.system.utils.cookies import Cookies
 import os
 
 os.environ['DJANGO_SETTINGS_MODULE'] = 'conf.settings'
 from django.conf import settings
 # Force Django to reload settings
 settings._target = None
 
 class I18NRequestHandler(webapp.RequestHandler):
 
     def initialize(self, request, response):
         webapp.RequestHandler.initialize(self, request, response)
 
         self.request.COOKIES = Cookies(self)
         self.request.META = os.environ
         self.reset_language()
 
     def reset_language(self):
 
         # Decide the language from Cookies/Headers
         language = translation.get_language_from_request(self.request)
         translation.activate(language)
         self.request.LANGUAGE_CODE = translation.get_language()
     
         # Set headers in response
         self.response.headers['Content-Language'] = translation.get_language()
 #        translation.deactivate()</p></div>

<p>■org/fukata/mapshare/system/utils/cookies.py</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
</pre></td><td class="code"><pre class="python" style="font-family:monospace;"> <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">UserDict</span>
 <span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">Cookie</span> <span style="color: #ff7700;font-weight:bold;">import</span> BaseCookie
 <span style="color: #ff7700;font-weight:bold;">class</span> Cookies<span style="color: black;">&#40;</span><span style="color: #dc143c;">UserDict</span>.<span style="color: black;">DictMixin</span><span style="color: black;">&#41;</span>:
     <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> handler<span style="color: #66cc66;">,</span> **policy<span style="color: black;">&#41;</span>:
         <span style="color: #008000;">self</span>.<span style="color: black;">response</span> <span style="color: #66cc66;">=</span> handler.<span style="color: black;">response</span>
         <span style="color: #008000;">self</span>._in <span style="color: #66cc66;">=</span> handler.<span style="color: black;">request</span>.<span style="color: black;">cookies</span>
         <span style="color: #008000;">self</span>.<span style="color: black;">policy</span> <span style="color: #66cc66;">=</span> policy
         <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'secure'</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #ff7700;font-weight:bold;">in</span> policy <span style="color: #ff7700;font-weight:bold;">and</span> handler.<span style="color: black;">request</span>.<span style="color: black;">environ</span>.<span style="color: black;">get</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'HTTPS'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">''</span><span style="color: black;">&#41;</span>.<span style="color: black;">lower</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: black;">&#91;</span><span style="color: #483d8b;">'on'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'true'</span><span style="color: black;">&#93;</span>:
             policy<span style="color: black;">&#91;</span><span style="color: #483d8b;">'secure'</span><span style="color: black;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #008000;">True</span>
         <span style="color: #008000;">self</span>._out <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span><span style="color: black;">&#125;</span>
     <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__getitem__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> key<span style="color: black;">&#41;</span>:
         <span style="color: #ff7700;font-weight:bold;">if</span> key <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>._out:
             <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._out<span style="color: black;">&#91;</span>key<span style="color: black;">&#93;</span>
         <span style="color: #ff7700;font-weight:bold;">if</span> key <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>._in:
             <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._in<span style="color: black;">&#91;</span>key<span style="color: black;">&#93;</span>
         <span style="color: #ff7700;font-weight:bold;">raise</span> <span style="color: #008000;">KeyError</span><span style="color: black;">&#40;</span>key<span style="color: black;">&#41;</span>
     <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__setitem__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> key<span style="color: #66cc66;">,</span> item<span style="color: black;">&#41;</span>:
         <span style="color: #008000;">self</span>._out<span style="color: black;">&#91;</span>key<span style="color: black;">&#93;</span> <span style="color: #66cc66;">=</span> item
         <span style="color: #008000;">self</span>.<span style="color: black;">set_cookie</span><span style="color: black;">&#40;</span>key<span style="color: #66cc66;">,</span> item<span style="color: #66cc66;">,</span> **<span style="color: #008000;">self</span>.<span style="color: black;">policy</span><span style="color: black;">&#41;</span>
     <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__contains__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> key<span style="color: black;">&#41;</span>:
         <span style="color: #ff7700;font-weight:bold;">return</span> key <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>._in <span style="color: #ff7700;font-weight:bold;">or</span> key <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>._out
     <span style="color: #ff7700;font-weight:bold;">def</span> keys<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
         <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._in.<span style="color: black;">keys</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span> + <span style="color: #008000;">self</span>._out.<span style="color: black;">keys</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
     <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__delitem__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> key<span style="color: black;">&#41;</span>:
         <span style="color: #ff7700;font-weight:bold;">if</span> key <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>._out:
             <span style="color: #ff7700;font-weight:bold;">del</span> <span style="color: #008000;">self</span>._out<span style="color: black;">&#91;</span>key<span style="color: black;">&#93;</span>
             <span style="color: #008000;">self</span>.<span style="color: black;">unset_cookie</span><span style="color: black;">&#40;</span>key<span style="color: black;">&#41;</span>
         <span style="color: #ff7700;font-weight:bold;">if</span> key <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>._in:
             <span style="color: #ff7700;font-weight:bold;">del</span> <span style="color: #008000;">self</span>._in<span style="color: black;">&#91;</span>key<span style="color: black;">&#93;</span>
             p <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span><span style="color: black;">&#125;</span>
             <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'path'</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>.<span style="color: black;">policy</span>: p<span style="color: black;">&#91;</span><span style="color: #483d8b;">'path'</span><span style="color: black;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">policy</span><span style="color: black;">&#91;</span><span style="color: #483d8b;">'path'</span><span style="color: black;">&#93;</span>
             <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'domain'</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>.<span style="color: black;">policy</span>: p<span style="color: black;">&#91;</span><span style="color: #483d8b;">'domain'</span><span style="color: black;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">policy</span><span style="color: black;">&#91;</span><span style="color: #483d8b;">'domain'</span><span style="color: black;">&#93;</span>
             <span style="color: #008000;">self</span>.<span style="color: black;">delete_cookie</span><span style="color: black;">&#40;</span>key<span style="color: #66cc66;">,</span> **p<span style="color: black;">&#41;</span>
     <span style="color: #808080; font-style: italic;">#begin WebOb functions</span>
     <span style="color: #ff7700;font-weight:bold;">def</span> set_cookie<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> key<span style="color: #66cc66;">,</span> value<span style="color: #66cc66;">=</span><span style="color: #483d8b;">''</span><span style="color: #66cc66;">,</span> max_age<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span>
                    path<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'/'</span><span style="color: #66cc66;">,</span> domain<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> secure<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> httponly<span style="color: #66cc66;">=</span><span style="color: #008000;">False</span><span style="color: #66cc66;">,</span>
                    version<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> comment<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
         <span style="color: #483d8b;">&quot;&quot;&quot;
         Set (add) a cookie for the response
         &quot;&quot;&quot;</span>
         cookies <span style="color: #66cc66;">=</span> BaseCookie<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
         cookies<span style="color: black;">&#91;</span>key<span style="color: black;">&#93;</span> <span style="color: #66cc66;">=</span> value
         <span style="color: #ff7700;font-weight:bold;">for</span> var_name<span style="color: #66cc66;">,</span> var_value <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: black;">&#91;</span>
             <span style="color: black;">&#40;</span><span style="color: #483d8b;">'max-age'</span><span style="color: #66cc66;">,</span> max_age<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
             <span style="color: black;">&#40;</span><span style="color: #483d8b;">'path'</span><span style="color: #66cc66;">,</span> path<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
             <span style="color: black;">&#40;</span><span style="color: #483d8b;">'domain'</span><span style="color: #66cc66;">,</span> domain<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
             <span style="color: black;">&#40;</span><span style="color: #483d8b;">'secure'</span><span style="color: #66cc66;">,</span> secure<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
             <span style="color: black;">&#40;</span><span style="color: #483d8b;">'HttpOnly'</span><span style="color: #66cc66;">,</span> httponly<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
             <span style="color: black;">&#40;</span><span style="color: #483d8b;">'version'</span><span style="color: #66cc66;">,</span> version<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
             <span style="color: black;">&#40;</span><span style="color: #483d8b;">'comment'</span><span style="color: #66cc66;">,</span> comment<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
             <span style="color: black;">&#93;</span>:
             <span style="color: #ff7700;font-weight:bold;">if</span> var_value <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">None</span> <span style="color: #ff7700;font-weight:bold;">and</span> var_value <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">False</span>:
                 cookies<span style="color: black;">&#91;</span>key<span style="color: black;">&#93;</span><span style="color: black;">&#91;</span>var_name<span style="color: black;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #008000;">str</span><span style="color: black;">&#40;</span>var_value<span style="color: black;">&#41;</span>
             <span style="color: #ff7700;font-weight:bold;">if</span> max_age <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">None</span>:
                 cookies<span style="color: black;">&#91;</span>key<span style="color: black;">&#93;</span><span style="color: black;">&#91;</span><span style="color: #483d8b;">'expires'</span><span style="color: black;">&#93;</span> <span style="color: #66cc66;">=</span> max_age
         header_value <span style="color: #66cc66;">=</span> cookies<span style="color: black;">&#91;</span>key<span style="color: black;">&#93;</span>.<span style="color: black;">output</span><span style="color: black;">&#40;</span>header<span style="color: #66cc66;">=</span><span style="color: #483d8b;">''</span><span style="color: black;">&#41;</span>.<span style="color: black;">lstrip</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
         <span style="color: #008000;">self</span>.<span style="color: black;">response</span>.<span style="color: black;">headers</span>._headers.<span style="color: black;">append</span><span style="color: black;">&#40;</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'Set-Cookie'</span><span style="color: #66cc66;">,</span> header_value<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
     <span style="color: #ff7700;font-weight:bold;">def</span> delete_cookie<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> key<span style="color: #66cc66;">,</span> path<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'/'</span><span style="color: #66cc66;">,</span> domain<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
         <span style="color: #483d8b;">&quot;&quot;&quot;
         Delete a cookie from the client.  Note that path and domain must match
         how the cookie was originally set.
         This sets the cookie to the empty string, and max_age=0 so
         that it should expire immediately.
         &quot;&quot;&quot;</span>
         <span style="color: #008000;">self</span>.<span style="color: black;">set_cookie</span><span style="color: black;">&#40;</span>key<span style="color: #66cc66;">,</span> <span style="color: #483d8b;">''</span><span style="color: #66cc66;">,</span> path<span style="color: #66cc66;">=</span>path<span style="color: #66cc66;">,</span> domain<span style="color: #66cc66;">=</span>domain<span style="color: #66cc66;">,</span>
                         max_age<span style="color: #66cc66;">=</span><span style="color: #ff4500;">0</span><span style="color: black;">&#41;</span>
     <span style="color: #ff7700;font-weight:bold;">def</span> unset_cookie<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> key<span style="color: black;">&#41;</span>:
         <span style="color: #483d8b;">&quot;&quot;&quot;
         Unset a cookie with the given name (remove it from the
         response).  If there are multiple cookies (e.g., two cookies
         with the same name and different paths or domains), all such
         cookies will be deleted.
         &quot;&quot;&quot;</span>
         existing <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">response</span>.<span style="color: black;">headers</span>.<span style="color: black;">get_all</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'Set-Cookie'</span><span style="color: black;">&#41;</span>
         <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #ff7700;font-weight:bold;">not</span> existing:
             <span style="color: #ff7700;font-weight:bold;">raise</span> <span style="color: #008000;">KeyError</span><span style="color: black;">&#40;</span>
                 <span style="color: #483d8b;">&quot;No cookies at all have been set&quot;</span><span style="color: black;">&#41;</span>
         <span style="color: #ff7700;font-weight:bold;">del</span> <span style="color: #008000;">self</span>.<span style="color: black;">response</span>.<span style="color: black;">headers</span><span style="color: black;">&#91;</span><span style="color: #483d8b;">'Set-Cookie'</span><span style="color: black;">&#93;</span>
         found <span style="color: #66cc66;">=</span> <span style="color: #008000;">False</span>
         <span style="color: #ff7700;font-weight:bold;">for</span> header <span style="color: #ff7700;font-weight:bold;">in</span> existing:
             cookies <span style="color: #66cc66;">=</span> BaseCookie<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
             cookies.<span style="color: black;">load</span><span style="color: black;">&#40;</span>header<span style="color: black;">&#41;</span>
             <span style="color: #ff7700;font-weight:bold;">if</span> key <span style="color: #ff7700;font-weight:bold;">in</span> cookies:
                 found <span style="color: #66cc66;">=</span> <span style="color: #008000;">True</span>
                 <span style="color: #ff7700;font-weight:bold;">del</span> cookies<span style="color: black;">&#91;</span>key<span style="color: black;">&#93;</span>
             header <span style="color: #66cc66;">=</span> cookies.<span style="color: black;">output</span><span style="color: black;">&#40;</span>header<span style="color: #66cc66;">=</span><span style="color: #483d8b;">''</span><span style="color: black;">&#41;</span>.<span style="color: black;">lstrip</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
             <span style="color: #ff7700;font-weight:bold;">if</span> header:
                 <span style="color: #008000;">self</span>.<span style="color: black;">response</span>.<span style="color: black;">headers</span>.<span style="color: black;">add</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'Set-Cookie'</span><span style="color: #66cc66;">,</span> header<span style="color: black;">&#41;</span>
         <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #ff7700;font-weight:bold;">not</span> found:
             <span style="color: #ff7700;font-weight:bold;">raise</span> <span style="color: #008000;">KeyError</span><span style="color: black;">&#40;</span>
                 <span style="color: #483d8b;">&quot;No cookie has been set with the name %r&quot;</span> % key<span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;"> import UserDict
 from Cookie import BaseCookie
 class Cookies(UserDict.DictMixin):
     def __init__(self, handler, **policy):
         self.response = handler.response
         self._in = handler.request.cookies
         self.policy = policy
         if 'secure' not in policy and handler.request.environ.get('HTTPS', '').lower() in ['on', 'true']:
             policy['secure'] = True
         self._out = {}
     def __getitem__(self, key):
         if key in self._out:
             return self._out[key]
         if key in self._in:
             return self._in[key]
         raise KeyError(key)
     def __setitem__(self, key, item):
         self._out[key] = item
         self.set_cookie(key, item, **self.policy)
     def __contains__(self, key):
         return key in self._in or key in self._out
     def keys(self):
         return self._in.keys() + self._out.keys()
     def __delitem__(self, key):
         if key in self._out:
             del self._out[key]
             self.unset_cookie(key)
         if key in self._in:
             del self._in[key]
             p = {}
             if 'path' in self.policy: p['path'] = self.policy['path']
             if 'domain' in self.policy: p['domain'] = self.policy['domain']
             self.delete_cookie(key, **p)
     #begin WebOb functions
     def set_cookie(self, key, value='', max_age=None,
                    path='/', domain=None, secure=None, httponly=False,
                    version=None, comment=None):
         &quot;&quot;&quot;
         Set (add) a cookie for the response
         &quot;&quot;&quot;
         cookies = BaseCookie()
         cookies[key] = value
         for var_name, var_value in [
             ('max-age', max_age),
             ('path', path),
             ('domain', domain),
             ('secure', secure),
             ('HttpOnly', httponly),
             ('version', version),
             ('comment', comment),
             ]:
             if var_value is not None and var_value is not False:
                 cookies[key][var_name] = str(var_value)
             if max_age is not None:
                 cookies[key]['expires'] = max_age
         header_value = cookies[key].output(header='').lstrip()
         self.response.headers._headers.append(('Set-Cookie', header_value))
     def delete_cookie(self, key, path='/', domain=None):
         &quot;&quot;&quot;
         Delete a cookie from the client.  Note that path and domain must match
         how the cookie was originally set.
         This sets the cookie to the empty string, and max_age=0 so
         that it should expire immediately.
         &quot;&quot;&quot;
         self.set_cookie(key, '', path=path, domain=domain,
                         max_age=0)
     def unset_cookie(self, key):
         &quot;&quot;&quot;
         Unset a cookie with the given name (remove it from the
         response).  If there are multiple cookies (e.g., two cookies
         with the same name and different paths or domains), all such
         cookies will be deleted.
         &quot;&quot;&quot;
         existing = self.response.headers.get_all('Set-Cookie')
         if not existing:
             raise KeyError(
                 &quot;No cookies at all have been set&quot;)
         del self.response.headers['Set-Cookie']
         found = False
         for header in existing:
             cookies = BaseCookie()
             cookies.load(header)
             if key in cookies:
                 found = True
                 del cookies[key]
             header = cookies.output(header='').lstrip()
             if header:
                 self.response.headers.add('Set-Cookie', header)
         if not found:
             raise KeyError(
                 &quot;No cookie has been set with the name %r&quot; % key)</p></div>

<p>となります。で、通常のハンドラに対して「webapp.RequestHandler」ではなく、「I18NRequestHandler」を継承するようにします。これで、基本的には大丈夫です。テンプレート内で、国際化のタグを使用するには、テンプレートの先頭などで、{% load i18n %}と記述します。これで、国際化用のタグが使えるようになります。</p>
<p>また、.poファイルに関してですが、sdkにスクリプトが付随しているようですが、自分は下記のように.moファイルを生成しています。まぁ、スクリプトを使った方が便利だと思います^^;</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="line_numbers"><pre>1
2
</pre></td><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">msgfmt</span> django.po 
<span style="color: #c20cb9; font-weight: bold;">mv</span> messages.mo  django.mo</pre></td></tr></table><p class="theCode" style="display:none;">msgfmt django.po 
mv messages.mo  django.mo</p></div>

<p>今回使用した、コードに関しては、参考サイトの方にほぼすべてあります。というか、掲載されているコードそのままで動きました。</p>
<p>■参考サイト</p>
<ul>
<li><a href="https://makeyjl.blogspot.com/2009/02/using-djangos-i18n-in-google-app-engine.html">https://makeyjl.blogspot.com/2009/02/using-djangos-i18n-in-google-app-engine.html</a></li>
</ul>
			              <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- blog-content-bottom2 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9703571485671477"
     data-ad-slot="9222206294"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>  <h2>関連記事</h2>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-9703571485671477"
     data-ad-slot="9505713061"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>		</div><!-- .entry-content -->

        
				<footer class="entry-meta">
			This entry was posted in <a href="/archives/category/dev/" rel="category tag">開発</a> and tagged <a href="/archives/tag/gae/" rel="tag">GAE</a>, <a href="/archives/tag/gaep/" rel="tag">GAE/P</a>, <a href="/archives/tag/python/" rel="tag">Python</a> on <a href="/archives/1823/" title="22:44" rel="bookmark"><time class="entry-date" datetime="2009-11-01T22:44:20+00:00">2009-11-01</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="/archives/author/fukata/" title="View all posts by fukata" rel="author">fukata</a></span></span>.								</footer><!-- .entry-meta -->
        	</article><!-- #post -->

				<nav class="nav-single">
					<h3 class="assistive-text">Post navigation</h3>
					<span class="nav-previous"><a href="/archives/1817/" rel="prev"><span class="meta-nav">&larr;</span> [GAE/P]必須カラムの登録について</a></span>
					<span class="nav-next"><a href="/archives/1830/" rel="next">[GAE/P]国際化に対応してみました　〜その２〜 <span class="meta-nav">&rarr;</span></a></span>
				</nav><!-- .nav-single -->

				
<div id="disqus_thread"></div>

			
		</div><!-- #content -->
	</div><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
			
		<aside id="recent-posts-3" class="widget widget_recent_entries">
		<h3 class="widget-title">Recent Posts</h3>
		<ul>
											<li>
					<a href="/archives/9629/">New XPS 13(9370)を半年以上使ってみた感想</a>
									</li>
											<li>
					<a href="/archives/9625/">2018年の振り返り</a>
									</li>
											<li>
					<a href="/archives/9613/">Vue.jsでbeforeunloadを正しく実装する</a>
									</li>
											<li>
					<a href="/archives/9605/">Nuxt.js(@nuxtjs/auth)とRails(omniauth)でTwitterとOAuth認証を行う方法</a>
									</li>
											<li>
					<a href="/archives/9601/">JavaScriptからGoogle Adsenseを動的に表示する方法</a>
									</li>
											<li>
					<a href="/archives/9595/">Windows10でSteamが突然落ちる問題を解決する方法</a>
									</li>
											<li>
					<a href="/archives/9574/">開発マシンをNew XPS 13(9370)にした</a>
									</li>
											<li>
					<a href="/archives/9581/">Saigon Cup 2018を観戦してきた</a>
									</li>
											<li>
					<a href="/archives/9566/">Android One端末の「Xiaomi Mi A1」を2.3万円弱でゲットした</a>
									</li>
											<li>
					<a href="/archives/9556/">バンコクで開催された「Thaiger Uppercut 2018」を観戦してきた</a>
									</li>
					</ul>

		</aside><aside id="tag_cloud-3" class="widget widget_tag_cloud"><h3 class="widget-title">Tags</h3><div class="tagcloud"><a href="/archives/tag/blackberry/" class="tag-cloud-link tag-link-282 tag-link-position-1" style="font-size: 11.36pt;" aria-label="BlackBerry (17 items)">BlackBerry</a>
<a href="/archives/tag/cafebar-petit-plum/" class="tag-cloud-link tag-link-1494 tag-link-position-2" style="font-size: 10.333333333333pt;" aria-label="Cafe+bar Petit plum (13 items)">Cafe+bar Petit plum</a>
<a href="/archives/tag/codeigniter/" class="tag-cloud-link tag-link-153 tag-link-position-3" style="font-size: 9.96pt;" aria-label="CodeIgniter (12 items)">CodeIgniter</a>
<a href="/archives/tag/codeigniter-2-x/" class="tag-cloud-link tag-link-850 tag-link-position-4" style="font-size: 11.08pt;" aria-label="CodeIgniter 2.x (16 items)">CodeIgniter 2.x</a>
<a href="/archives/tag/gr/" class="tag-cloud-link tag-link-1184 tag-link-position-5" style="font-size: 8.9333333333333pt;" aria-label="GR (9 items)">GR</a>
<a href="/archives/tag/jcommunity/" class="tag-cloud-link tag-link-341 tag-link-position-6" style="font-size: 9.3066666666667pt;" aria-label="JCommunity (10 items)">JCommunity</a>
<a href="/archives/tag/motorola-milestone/" class="tag-cloud-link tag-link-801 tag-link-position-7" style="font-size: 8.9333333333333pt;" aria-label="Motorola Milestone (9 items)">Motorola Milestone</a>
<a href="/archives/tag/osse/" class="tag-cloud-link tag-link-1716 tag-link-position-8" style="font-size: 9.96pt;" aria-label="OSSE (12 items)">OSSE</a>
<a href="/archives/tag/release/" class="tag-cloud-link tag-link-880 tag-link-position-9" style="font-size: 16.96pt;" aria-label="Release (72 items)">Release</a>
<a href="/archives/tag/ricoh/" class="tag-cloud-link tag-link-1148 tag-link-position-10" style="font-size: 9.3066666666667pt;" aria-label="RICOH (10 items)">RICOH</a>
<a href="/archives/tag/serversmanvps/" class="tag-cloud-link tag-link-738 tag-link-position-11" style="font-size: 8.9333333333333pt;" aria-label="ServersMan@VPS (9 items)">ServersMan@VPS</a>
<a href="/archives/tag/sukhumvit/" class="tag-cloud-link tag-link-1253 tag-link-position-12" style="font-size: 11.08pt;" aria-label="Sukhumvit (16 items)">Sukhumvit</a>
<a href="/archives/tag/ubuntu/" class="tag-cloud-link tag-link-23 tag-link-position-13" style="font-size: 9.3066666666667pt;" aria-label="ubuntu (10 items)">ubuntu</a>
<a href="/archives/tag/wp-flickr-press/" class="tag-cloud-link tag-link-819 tag-link-position-14" style="font-size: 17.053333333333pt;" aria-label="wp-flickr-press (73 items)">wp-flickr-press</a>
<a href="/archives/tag/%e3%82%ab%e3%83%95%e3%82%a7/" class="tag-cloud-link tag-link-1366 tag-link-position-15" style="font-size: 9.96pt;" aria-label="カフェ (12 items)">カフェ</a>
<a href="/archives/tag/%e3%82%ab%e3%83%ac%e3%83%bc/" class="tag-cloud-link tag-link-303 tag-link-position-16" style="font-size: 10.613333333333pt;" aria-label="カレー (14 items)">カレー</a>
<a href="/archives/tag/%e3%82%ab%e3%83%b3%e3%83%9c%e3%82%b8%e3%82%a2/" class="tag-cloud-link tag-link-1272 tag-link-position-17" style="font-size: 9.3066666666667pt;" aria-label="カンボジア (10 items)">カンボジア</a>
<a href="/archives/tag/%e3%82%b5%e3%83%a0%e3%83%83%e3%83%88%e3%83%97%e3%83%a9%e3%82%ab%e3%83%bc%e3%83%b3/" class="tag-cloud-link tag-link-1275 tag-link-position-18" style="font-size: 12.48pt;" aria-label="サムットプラカーン (23 items)">サムットプラカーン</a>
<a href="/archives/tag/%e3%82%bf%e3%82%a4/" class="tag-cloud-link tag-link-1057 tag-link-position-19" style="font-size: 19.853333333333pt;" aria-label="タイ (147 items)">タイ</a>
<a href="/archives/tag/%e3%82%bf%e3%82%a4%e6%96%99%e7%90%86/" class="tag-cloud-link tag-link-1887 tag-link-position-20" style="font-size: 8.4666666666667pt;" aria-label="タイ料理 (8 items)">タイ料理</a>
<a href="/archives/tag/%e3%83%90%e3%83%b3%e3%82%b3%e3%82%af/" class="tag-cloud-link tag-link-1058 tag-link-position-21" style="font-size: 15.746666666667pt;" aria-label="バンコク (53 items)">バンコク</a>
<a href="/archives/tag/%e3%83%9b%e3%83%86%e3%83%ab/" class="tag-cloud-link tag-link-123 tag-link-position-22" style="font-size: 9.96pt;" aria-label="ホテル (12 items)">ホテル</a>
<a href="/archives/tag/%e3%83%a9%e3%82%aa%e3%82%b9/" class="tag-cloud-link tag-link-1285 tag-link-position-23" style="font-size: 11.36pt;" aria-label="ラオス (17 items)">ラオス</a>
<a href="/archives/tag/%e3%83%a9%e3%83%b3%e3%83%81/" class="tag-cloud-link tag-link-74 tag-link-position-24" style="font-size: 14.533333333333pt;" aria-label="ランチ (39 items)">ランチ</a>
<a href="/archives/tag/%e3%83%ab%e3%82%a2%e3%83%b3%e3%83%91%e3%83%90%e3%83%bc%e3%83%b3/" class="tag-cloud-link tag-link-1435 tag-link-position-25" style="font-size: 9.3066666666667pt;" aria-label="ルアンパバーン (10 items)">ルアンパバーン</a>
<a href="/archives/tag/%e4%b8%89%e8%bb%92%e8%8c%b6%e5%b1%8b/" class="tag-cloud-link tag-link-1609 tag-link-position-26" style="font-size: 8.9333333333333pt;" aria-label="三軒茶屋 (9 items)">三軒茶屋</a>
<a href="/archives/tag/%e4%b8%8a%e6%b5%b7/" class="tag-cloud-link tag-link-53 tag-link-position-27" style="font-size: 8.4666666666667pt;" aria-label="上海 (8 items)">上海</a>
<a href="/archives/tag/%e4%b8%8b%e5%8c%97%e6%b2%a2/" class="tag-cloud-link tag-link-1588 tag-link-position-28" style="font-size: 11.08pt;" aria-label="下北沢 (16 items)">下北沢</a>
<a href="/archives/tag/%e5%8c%97%e6%b5%b7%e9%81%93/" class="tag-cloud-link tag-link-1164 tag-link-position-29" style="font-size: 9.96pt;" aria-label="北海道 (12 items)">北海道</a>
<a href="/archives/tag/%e5%a4%96%e9%a3%9f/" class="tag-cloud-link tag-link-1982 tag-link-position-30" style="font-size: 22pt;" aria-label="外食 (248 items)">外食</a>
<a href="/archives/tag/%e5%af%bf%e5%8f%b8/" class="tag-cloud-link tag-link-1513 tag-link-position-31" style="font-size: 8.4666666666667pt;" aria-label="寿司 (8 items)">寿司</a>
<a href="/archives/tag/%e6%97%85%e8%a1%8c/" class="tag-cloud-link tag-link-1165 tag-link-position-32" style="font-size: 9.68pt;" aria-label="旅行 (11 items)">旅行</a>
<a href="/archives/tag/%e6%97%a5%e6%9c%ac/" class="tag-cloud-link tag-link-1455 tag-link-position-33" style="font-size: 21.066666666667pt;" aria-label="日本 (198 items)">日本</a>
<a href="/archives/tag/%e6%9c%ad%e5%b9%8c/" class="tag-cloud-link tag-link-714 tag-link-position-34" style="font-size: 9.3066666666667pt;" aria-label="札幌 (10 items)">札幌</a>
<a href="/archives/tag/%e6%9d%b1%e4%ba%ac/" class="tag-cloud-link tag-link-131 tag-link-position-35" style="font-size: 20.413333333333pt;" aria-label="東京 (170 items)">東京</a>
<a href="/archives/tag/%e6%9d%b1%e5%8d%97%e3%82%a2%e3%82%b8%e3%82%a2/" class="tag-cloud-link tag-link-1130 tag-link-position-36" style="font-size: 20.693333333333pt;" aria-label="東南アジア (181 items)">東南アジア</a>
<a href="/archives/tag/%e6%a9%9f%e6%9d%90/" class="tag-cloud-link tag-link-1983 tag-link-position-37" style="font-size: 11.733333333333pt;" aria-label="機材 (19 items)">機材</a>
<a href="/archives/tag/%e6%b8%8b%e8%b0%b7/" class="tag-cloud-link tag-link-1162 tag-link-position-38" style="font-size: 10.613333333333pt;" aria-label="渋谷 (14 items)">渋谷</a>
<a href="/archives/tag/%e7%a6%8f%e5%b2%a1/" class="tag-cloud-link tag-link-27 tag-link-position-39" style="font-size: 8.4666666666667pt;" aria-label="福岡 (8 items)">福岡</a>
<a href="/archives/tag/%e7%b5%8c%e5%a0%82/" class="tag-cloud-link tag-link-1507 tag-link-position-40" style="font-size: 12.666666666667pt;" aria-label="経堂 (24 items)">経堂</a>
<a href="/archives/tag/%e8%87%aa%e7%82%8a/" class="tag-cloud-link tag-link-1981 tag-link-position-41" style="font-size: 8.4666666666667pt;" aria-label="自炊 (8 items)">自炊</a>
<a href="/archives/tag/%e8%a1%a8%e5%8f%82%e9%81%93/" class="tag-cloud-link tag-link-1486 tag-link-position-42" style="font-size: 12.76pt;" aria-label="表参道 (25 items)">表参道</a>
<a href="/archives/tag/%e8%b1%aa%e5%be%b3%e5%af%ba/" class="tag-cloud-link tag-link-1483 tag-link-position-43" style="font-size: 13.413333333333pt;" aria-label="豪徳寺 (29 items)">豪徳寺</a>
<a href="/archives/tag/%e8%b2%b7%e3%81%84%e7%89%a9/" class="tag-cloud-link tag-link-1319 tag-link-position-44" style="font-size: 12.293333333333pt;" aria-label="買い物 (22 items)">買い物</a>
<a href="/archives/tag/%e9%81%ba%e8%b7%a1/" class="tag-cloud-link tag-link-1283 tag-link-position-45" style="font-size: 8pt;" aria-label="遺跡 (7 items)">遺跡</a></div>
</aside><aside id="categories-281282962" class="widget widget_categories"><h3 class="widget-title">Categories</h3>
			<ul>
					<li class="cat-item cat-item-1137"><a href="/archives/category/camera/">カメラ</a> (52)
</li>
	<li class="cat-item cat-item-1278"><a href="/archives/category/travel/">旅行</a> (140)
</li>
	<li class="cat-item cat-item-1980"><a href="/archives/category/dev/">開発</a> (306)
</li>
	<li class="cat-item cat-item-1156"><a href="/archives/category/note/">雑記</a> (148)
</li>
	<li class="cat-item cat-item-1482"><a href="/archives/category/eating/">食事</a> (261)
</li>
			</ul>

			</aside><aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">Archives</h3>		<label class="screen-reader-text" for="archives-dropdown-2">Archives</label>
		<select id="archives-dropdown-2" name="archive-dropdown">
			
			<option value="">Select Month</option>
				<option value='/archives/date/2018/12/'> December 2018 &nbsp;(2)</option>
	<option value='/archives/date/2018/11/'> November 2018 &nbsp;(3)</option>
	<option value='/archives/date/2018/06/'> June 2018 &nbsp;(2)</option>
	<option value='/archives/date/2018/05/'> May 2018 &nbsp;(1)</option>
	<option value='/archives/date/2018/03/'> March 2018 &nbsp;(7)</option>
	<option value='/archives/date/2018/02/'> February 2018 &nbsp;(4)</option>
	<option value='/archives/date/2018/01/'> January 2018 &nbsp;(8)</option>
	<option value='/archives/date/2017/12/'> December 2017 &nbsp;(11)</option>
	<option value='/archives/date/2017/11/'> November 2017 &nbsp;(4)</option>
	<option value='/archives/date/2017/10/'> October 2017 &nbsp;(11)</option>
	<option value='/archives/date/2017/09/'> September 2017 &nbsp;(12)</option>
	<option value='/archives/date/2017/08/'> August 2017 &nbsp;(10)</option>
	<option value='/archives/date/2017/07/'> July 2017 &nbsp;(3)</option>
	<option value='/archives/date/2017/06/'> June 2017 &nbsp;(6)</option>
	<option value='/archives/date/2017/04/'> April 2017 &nbsp;(3)</option>
	<option value='/archives/date/2017/03/'> March 2017 &nbsp;(11)</option>
	<option value='/archives/date/2017/02/'> February 2017 &nbsp;(2)</option>
	<option value='/archives/date/2017/01/'> January 2017 &nbsp;(4)</option>
	<option value='/archives/date/2016/12/'> December 2016 &nbsp;(12)</option>
	<option value='/archives/date/2016/11/'> November 2016 &nbsp;(3)</option>
	<option value='/archives/date/2016/08/'> August 2016 &nbsp;(2)</option>
	<option value='/archives/date/2016/07/'> July 2016 &nbsp;(6)</option>
	<option value='/archives/date/2016/06/'> June 2016 &nbsp;(15)</option>
	<option value='/archives/date/2016/05/'> May 2016 &nbsp;(36)</option>
	<option value='/archives/date/2016/04/'> April 2016 &nbsp;(14)</option>
	<option value='/archives/date/2016/03/'> March 2016 &nbsp;(14)</option>
	<option value='/archives/date/2016/02/'> February 2016 &nbsp;(12)</option>
	<option value='/archives/date/2016/01/'> January 2016 &nbsp;(13)</option>
	<option value='/archives/date/2015/12/'> December 2015 &nbsp;(3)</option>
	<option value='/archives/date/2015/11/'> November 2015 &nbsp;(6)</option>
	<option value='/archives/date/2015/08/'> August 2015 &nbsp;(3)</option>
	<option value='/archives/date/2015/07/'> July 2015 &nbsp;(5)</option>
	<option value='/archives/date/2015/06/'> June 2015 &nbsp;(9)</option>
	<option value='/archives/date/2015/05/'> May 2015 &nbsp;(4)</option>
	<option value='/archives/date/2015/04/'> April 2015 &nbsp;(3)</option>
	<option value='/archives/date/2015/03/'> March 2015 &nbsp;(1)</option>
	<option value='/archives/date/2015/02/'> February 2015 &nbsp;(3)</option>
	<option value='/archives/date/2015/01/'> January 2015 &nbsp;(3)</option>
	<option value='/archives/date/2014/12/'> December 2014 &nbsp;(1)</option>
	<option value='/archives/date/2014/11/'> November 2014 &nbsp;(3)</option>
	<option value='/archives/date/2014/09/'> September 2014 &nbsp;(5)</option>
	<option value='/archives/date/2014/08/'> August 2014 &nbsp;(6)</option>
	<option value='/archives/date/2014/07/'> July 2014 &nbsp;(6)</option>
	<option value='/archives/date/2014/06/'> June 2014 &nbsp;(2)</option>
	<option value='/archives/date/2014/05/'> May 2014 &nbsp;(12)</option>
	<option value='/archives/date/2014/04/'> April 2014 &nbsp;(8)</option>
	<option value='/archives/date/2014/03/'> March 2014 &nbsp;(15)</option>
	<option value='/archives/date/2014/02/'> February 2014 &nbsp;(2)</option>
	<option value='/archives/date/2014/01/'> January 2014 &nbsp;(12)</option>
	<option value='/archives/date/2013/12/'> December 2013 &nbsp;(19)</option>
	<option value='/archives/date/2013/11/'> November 2013 &nbsp;(1)</option>
	<option value='/archives/date/2013/09/'> September 2013 &nbsp;(7)</option>
	<option value='/archives/date/2013/08/'> August 2013 &nbsp;(15)</option>
	<option value='/archives/date/2013/07/'> July 2013 &nbsp;(19)</option>
	<option value='/archives/date/2013/06/'> June 2013 &nbsp;(26)</option>
	<option value='/archives/date/2013/05/'> May 2013 &nbsp;(13)</option>
	<option value='/archives/date/2013/04/'> April 2013 &nbsp;(9)</option>
	<option value='/archives/date/2013/03/'> March 2013 &nbsp;(10)</option>
	<option value='/archives/date/2013/02/'> February 2013 &nbsp;(14)</option>
	<option value='/archives/date/2013/01/'> January 2013 &nbsp;(4)</option>
	<option value='/archives/date/2012/12/'> December 2012 &nbsp;(5)</option>
	<option value='/archives/date/2012/11/'> November 2012 &nbsp;(14)</option>
	<option value='/archives/date/2012/10/'> October 2012 &nbsp;(5)</option>
	<option value='/archives/date/2012/09/'> September 2012 &nbsp;(18)</option>
	<option value='/archives/date/2012/08/'> August 2012 &nbsp;(8)</option>
	<option value='/archives/date/2012/07/'> July 2012 &nbsp;(25)</option>
	<option value='/archives/date/2012/06/'> June 2012 &nbsp;(18)</option>
	<option value='/archives/date/2012/05/'> May 2012 &nbsp;(13)</option>
	<option value='/archives/date/2012/04/'> April 2012 &nbsp;(2)</option>
	<option value='/archives/date/2012/03/'> March 2012 &nbsp;(3)</option>
	<option value='/archives/date/2012/02/'> February 2012 &nbsp;(13)</option>
	<option value='/archives/date/2012/01/'> January 2012 &nbsp;(7)</option>
	<option value='/archives/date/2011/12/'> December 2011 &nbsp;(12)</option>
	<option value='/archives/date/2011/11/'> November 2011 &nbsp;(16)</option>
	<option value='/archives/date/2011/10/'> October 2011 &nbsp;(21)</option>
	<option value='/archives/date/2011/09/'> September 2011 &nbsp;(9)</option>
	<option value='/archives/date/2011/08/'> August 2011 &nbsp;(5)</option>
	<option value='/archives/date/2011/07/'> July 2011 &nbsp;(4)</option>
	<option value='/archives/date/2011/06/'> June 2011 &nbsp;(16)</option>
	<option value='/archives/date/2011/05/'> May 2011 &nbsp;(5)</option>
	<option value='/archives/date/2011/04/'> April 2011 &nbsp;(12)</option>
	<option value='/archives/date/2011/03/'> March 2011 &nbsp;(11)</option>
	<option value='/archives/date/2011/02/'> February 2011 &nbsp;(4)</option>
	<option value='/archives/date/2011/01/'> January 2011 &nbsp;(5)</option>
	<option value='/archives/date/2010/12/'> December 2010 &nbsp;(6)</option>
	<option value='/archives/date/2010/11/'> November 2010 &nbsp;(12)</option>
	<option value='/archives/date/2010/10/'> October 2010 &nbsp;(5)</option>
	<option value='/archives/date/2010/09/'> September 2010 &nbsp;(6)</option>
	<option value='/archives/date/2010/08/'> August 2010 &nbsp;(3)</option>
	<option value='/archives/date/2010/07/'> July 2010 &nbsp;(6)</option>
	<option value='/archives/date/2010/06/'> June 2010 &nbsp;(2)</option>
	<option value='/archives/date/2010/05/'> May 2010 &nbsp;(14)</option>
	<option value='/archives/date/2010/04/'> April 2010 &nbsp;(5)</option>
	<option value='/archives/date/2010/03/'> March 2010 &nbsp;(5)</option>
	<option value='/archives/date/2010/02/'> February 2010 &nbsp;(10)</option>
	<option value='/archives/date/2010/01/'> January 2010 &nbsp;(8)</option>
	<option value='/archives/date/2009/12/'> December 2009 &nbsp;(5)</option>
	<option value='/archives/date/2009/11/'> November 2009 &nbsp;(8)</option>
	<option value='/archives/date/2009/10/'> October 2009 &nbsp;(8)</option>
	<option value='/archives/date/2009/09/'> September 2009 &nbsp;(3)</option>
	<option value='/archives/date/2009/08/'> August 2009 &nbsp;(2)</option>
	<option value='/archives/date/2009/07/'> July 2009 &nbsp;(11)</option>
	<option value='/archives/date/2009/06/'> June 2009 &nbsp;(7)</option>
	<option value='/archives/date/2009/05/'> May 2009 &nbsp;(11)</option>
	<option value='/archives/date/2009/04/'> April 2009 &nbsp;(2)</option>
	<option value='/archives/date/2009/03/'> March 2009 &nbsp;(1)</option>
	<option value='/archives/date/2009/01/'> January 2009 &nbsp;(3)</option>
	<option value='/archives/date/2008/12/'> December 2008 &nbsp;(1)</option>
	<option value='/archives/date/2008/11/'> November 2008 &nbsp;(3)</option>
	<option value='/archives/date/2008/10/'> October 2008 &nbsp;(2)</option>
	<option value='/archives/date/2008/09/'> September 2008 &nbsp;(1)</option>
	<option value='/archives/date/2008/08/'> August 2008 &nbsp;(2)</option>
	<option value='/archives/date/2008/07/'> July 2008 &nbsp;(3)</option>
	<option value='/archives/date/2008/05/'> May 2008 &nbsp;(4)</option>
	<option value='/archives/date/2008/04/'> April 2008 &nbsp;(2)</option>
	<option value='/archives/date/2008/03/'> March 2008 &nbsp;(4)</option>
	<option value='/archives/date/2008/02/'> February 2008 &nbsp;(5)</option>
	<option value='/archives/date/2008/01/'> January 2008 &nbsp;(1)</option>
	<option value='/archives/date/2007/12/'> December 2007 &nbsp;(2)</option>
	<option value='/archives/date/2007/11/'> November 2007 &nbsp;(1)</option>
	<option value='/archives/date/2007/10/'> October 2007 &nbsp;(1)</option>
	<option value='/archives/date/2007/09/'> September 2007 &nbsp;(1)</option>

		</select>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "archives-dropdown-2" );
	function onSelectChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value !== '' ) {
			document.location.href = this.options[ this.selectedIndex ].value;
		}
	}
	dropdown.onchange = onSelectChange;
})();
/* ]]> */
</script>
			</aside>		</div><!-- #secondary -->
		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info">
            Powered by WordPress 5.6, PHP: 7.1.12		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->


<!-- BEGIN: WP Social Bookmarking Light FOOTER -->
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<!-- END: WP Social Bookmarking Light FOOTER -->
<script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"fukata"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/disqus-comment-system/public/js/comment_count.js?ver=3.0.17' id='disqus_count-js'></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.17"},"disqusIdentifier":"1823 http:\/\/fukata.org\/?p=1823","disqusShortname":"fukata","disqusTitle":"[GAE\/P]\u56fd\u969b\u5316\u306b\u5bfe\u5fdc\u3057\u3066\u307f\u307e\u3057\u305f\u3000\u301c\u305d\u306e\uff11\u301c","disqusUrl":"\/archives\/1823\/","postId":"1823"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/disqus-comment-system/public/js/comment_embed.js?ver=3.0.17' id='disqus_embed-js'></script>
<script type='text/javascript' id='toc-front-js-extra'>
/* <![CDATA[ */
var tocplus = {"smooth_scroll":"1","visibility_show":"\u8868\u793a","visibility_hide":"\u975e\u8868\u793a","width":"100%"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/table-of-contents-plus/front.min.js?ver=1509' id='toc-front-js'></script>
<script type='text/javascript' src='/wp-content/plugins/wp-syntax/js/wp-syntax.js?ver=1.1' id='wp-syntax-js-js'></script>
<script type='text/javascript' src='/wp-includes/js/comment-reply.min.js?ver=5.6' id='comment-reply-js'></script>
<script type='text/javascript' src='/wp-content/themes/subblog_v2/js/navigation.js?ver=1.0' id='twentytwelve-navigation-js'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=5.6' id='wp-embed-js'></script>
</body>
</html>