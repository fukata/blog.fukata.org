<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<meta name='B-verify' content='1eef0dd0da25b13b2fae70673c38f59bb11c954e' />
<title>[CodeIgniter2.x]環境切り分けについて | blog.fukata.org</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="/wp-content/themes/subblog_v2/js/html5.js" type="text/javascript"></script>
<![endif]-->
<!-- JM Twitter Cards by Julien Maury 10.0.1 -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@fukata">
<meta name="twitter:site" content="@fukata">
<meta property="og:title" content="[CodeIgniter2.x]環境切り分けについて">
<!-- /JM Twitter Cards by Julien Maury 10.0.1 -->

<!-- All in One SEO Pack 3.3.4 by Michael Torbert of Semper Fi Web Design[-1,-1] -->
<meta name="description"  content="最近、趣味で作成しているWEBアプリでCodeIgniter 2を使っており、コア部分のソースを眺めていると環境別設定を切り分ける機構が導入されていたので少しソースを追ってみました。 結論から言えば、末端のindex.php内に定義されているENVIRONMENT定数の値をdevelopment,testing" />

<meta name="keywords"  content="codeigniter 2.x,開発" />

<script type="application/ld+json" class="aioseop-schema">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"/#organization","url":"/","name":"blog.fukata.org","sameAs":[]},{"@type":"WebSite","@id":"/#website","url":"/","name":"blog.fukata.org","publisher":{"@id":"/#organization"}},{"@type":"WebPage","@id":"/archives/5431/#webpage","url":"/archives/5431/","inLanguage":"en-US","name":"[CodeIgniter2.x]\u74b0\u5883\u5207\u308a\u5206\u3051\u306b\u3064\u3044\u3066","isPartOf":{"@id":"/#website"},"datePublished":"2011-03-18T08:30:01+00:00","dateModified":"2017-08-11T22:58:49+00:00"},{"@type":"Article","@id":"/archives/5431/#article","isPartOf":{"@id":"/archives/5431/#webpage"},"author":{"@id":"/archives/author/fukata/#author"},"headline":"[CodeIgniter2.x]\u74b0\u5883\u5207\u308a\u5206\u3051\u306b\u3064\u3044\u3066","datePublished":"2011-03-18T08:30:01+00:00","dateModified":"2017-08-11T22:58:49+00:00","commentCount":2,"mainEntityOfPage":{"@id":"/archives/5431/#webpage"},"publisher":{"@id":"/#organization"},"articleSection":"\u958b\u767a, CodeIgniter 2.x"},{"@type":"Person","@id":"/archives/author/fukata/#author","name":"fukata","sameAs":[],"image":{"@type":"ImageObject","@id":"/#personlogo","url":"https://secure.gravatar.com/avatar/d599ee931abe1222d97129eeeab95ad6?s=96&d=mm&r=g","width":96,"height":96,"caption":"fukata"}}]}</script>
<!-- All in One SEO Pack -->
<link rel='dns-prefetch' href='' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="blog.fukata.org &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="blog.fukata.org &raquo; Comments Feed" href="/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="blog.fukata.org &raquo; [CodeIgniter2.x]環境切り分けについて Comments Feed" href="/archives/5431/feed/" />
<!-- This site uses the Google Analytics by MonsterInsights plugin v7.10.4 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<script type="text/javascript" data-cfasync="false">
	var mi_version         = '7.10.4';
	var mi_track_user      = true;
	var mi_no_track_reason = '';
	
	var disableStr = 'ga-disable-UA-19570640-21';

	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}
	
	if ( mi_track_user ) {
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

		__gaTracker('create', 'UA-19570640-21', 'auto');
		__gaTracker('set', 'forceSSL', true);
		__gaTracker('require', 'displayfeatures');
		__gaTracker('send','pageview');
	} else {
		console.log( "" );
		(function() {
			/* https://developers.google.com/analytics/devguides/collection/analyticsjs/ */
			var noopfn = function() {
				return null;
			};
			var noopnullfn = function() {
				return null;
			};
			var Tracker = function() {
				return null;
			};
			var p = Tracker.prototype;
			p.get = noopfn;
			p.set = noopfn;
			p.send = noopfn;
			var __gaTracker = function() {
				var len = arguments.length;
				if ( len === 0 ) {
					return;
				}
				var f = arguments[len-1];
				if ( typeof f !== 'object' || f === null || typeof f.hitCallback !== 'function' ) {
					console.log( 'Not running function __gaTracker(' + arguments[0] + " ....) because you are not being tracked. " + mi_no_track_reason );
					return;
				}
				try {
					f.hitCallback();
				} catch (ex) {

				}
			};
			__gaTracker.create = function() {
				return new Tracker();
			};
			__gaTracker.getByName = noopnullfn;
			__gaTracker.getAll = function() {
				return [];
			};
			__gaTracker.remove = noopfn;
			window['__gaTracker'] = __gaTracker;
					})();
		}
</script>
<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.6"}};
			!function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='/wp-includes/css/dist/block-library/style.min.css?ver=5.6' type='text/css' media='all' />
<link rel='stylesheet' id='toc-screen-css'  href='/wp-content/plugins/table-of-contents-plus/screen.min.css?ver=1509' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-fonts-css'  href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&#038;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-style-css'  href='/wp-content/themes/subblog_v2/style.css?ver=5.6' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='/wp-content/themes/subblog_v2/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' id='monsterinsights-frontend-script-js-extra'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,pdf,ppt,zip,xls,docx,pptx,xlsx","inbound_paths":"[]","home_url":"","hash_tracking":"false"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/google-analytics-for-wordpress/assets/js/frontend.min.js?ver=7.10.4' id='monsterinsights-frontend-script-js'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.min.js?ver=3.5.1' id='jquery-core-js'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<link rel="https://api.w.org/" href="/wp-json/" /><link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/5431" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.6" />
<link rel="canonical" href="/archives/5431/" />
<link rel='shortlink' href='/?p=5431' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2Farchives%2F5431%2F" />
<meta name="google-site-verification" content="yjvKGgbcWE3PHz6TpeUVsUpgV_igFWiuFjeo8u1oBSg" /><style type="text/css">div#toc_container {width: 100%;}</style>
<!-- BEGIN: WP-OGP by http://www.millerswebsite.co.uk Version: 1.0.5  -->
<meta property="og:title" content="[CodeIgniter2.x]環境切り分けについて" />
<meta property="og:type" content="article" />
<meta property="og:image" content="/wp-content/plugins/wp-ogp/default.jpg" />
<meta property="image_src" content="/wp-content/plugins/wp-ogp/default.jpg" />
<meta property="og:url" content="/archives/5431/" />
<meta property="og:site_name" content="blog.fukata.org" />
<meta property="og:description" content="最近、趣味で作成しているWEBアプリでCodeIgniter 2を使っており、コア部分のソースを眺めていると環境別設定を切り分ける機構が導入されていたので少しソースを追ってみました。 結論から言えば、末端のindex.php内に定義されているENVIRONMENT定数の値をdevelopment,testing,productionのいずれかに変更するだけで、 application/configに関して、下記のような構造で環境別に管理できるようになります。development,testing,productionに関しては、任意の値に変更可能ですが、その際はディレクトリ名も一緒に変更する必要があるので注意してください。  ./ `-- application   `-- config     |-- config.php     # ENVIRONMENTに指定されたディレクトリ内に見つからなかった場合に読み込まれる。     |-- development     |  `-- config.php   # ENVIRONMENT=developmentの時、読み込まれる。     |-- testing     |  `-- config.php   # ENVIRONMENT=testingの時、読み込まれる。     `-- production       `-- config.php  ..." />
<!-- END: WP-OGP by http://www.millerswebsite.co.uk Version: 1.0.5 -->

<!-- BEGIN: WP Social Bookmarking Light HEAD -->


<script>
    (function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>

<style type="text/css">
    .wp_social_bookmarking_light{
    border: 0 !important;
    padding: 10px 0 20px 0 !important;
    margin: 0 !important;
}
.wp_social_bookmarking_light div{
    float: left !important;
    border: 0 !important;
    padding: 0 !important;
    margin: 0 5px 0px 0 !important;
    min-height: 30px !important;
    line-height: 18px !important;
    text-indent: 0 !important;
}
.wp_social_bookmarking_light img{
    border: 0 !important;
    padding: 0;
    margin: 0;
    vertical-align: top !important;
}
.wp_social_bookmarking_light_clear{
    clear: both !important;
}
#fb-root{
    display: none;
}
.wsbl_twitter{
    width: 100px;
}
.wsbl_facebook_like iframe{
    max-width: none !important;
}
.wsbl_pinterest a{
    border: 0px !important;
}
</style>
<!-- END: WP Social Bookmarking Light HEAD -->
	<style type="text/css">
			.site-title a,
		.site-description {
			color: #444444 !important;
		}
	        .widget-title {
            background-color: #444444;
        }
        .entry-content h2 {
            border-left: #444444 solid 10px;
            padding-left: 10px;
        }
	</style>
	<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #282c34; }
</style>
	</head>

<body class="post-template-default single single-post postid-5431 single-format-standard custom-background custom-font-enabled">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<hgroup>
			<h1 class="site-title"><a href="/" title="blog.fukata.org" rel="home">blog.fukata.org</a></h1>
			<h2 class="site-description">旅するプログラマ</h2>
		</hgroup>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<h3 class="menu-toggle">Menu</h3>
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
      <div class="menu-menu-1-container"><ul id="menu-menu-1" class="nav-menu"><li id="menu-item-7952" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-7952"><a href="/">Home</a></li>
<li id="menu-item-8057" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8057"><a href="/archives/category/travel/">旅行</a></li>
<li id="menu-item-8055" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8055"><a href="/archives/category/eating/">食事</a></li>
<li id="menu-item-8056" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8056"><a href="/archives/category/camera/">カメラ</a></li>
<li id="menu-item-8785" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-8785"><a href="/archives/category/dev/">開発</a></li>
<li id="menu-item-8786" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8786"><a href="/archives/category/note/">雑記</a></li>
<li id="menu-item-7971" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7971"><a href="https://twitter.com/fukata/">Twitter</a></li>
<li id="menu-item-7972" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7972"><a href="https://www.facebook.com/fukata.org">Facebook</a></li>
<li id="menu-item-7973" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7973"><a href="https://www.youtube.com/c/FukataOrg">YouTube</a></li>
<li id="menu-item-7974" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7974"><a href="https://www.instagram.com/tatsuya_fukata/">Instagram</a></li>
</ul></div>		</nav><!-- #site-navigation -->

			</header><!-- #masthead -->

	<div id="main" class="wrapper">

	<div id="primary" class="site-content">
		<div id="content" role="main">

			
				
	<article id="post-5431" class="post-5431 post type-post status-publish format-standard has-post-thumbnail hentry category-dev tag-codeigniter-2-x">
		        		<header class="entry-header">
            <h1 class="entry-title">[CodeIgniter2.x]環境切り分けについて</h1>
							<div class="comments-link">
					<a href="/archives/5431/#comments"><span class="dsq-postid" data-dsqidentifier="5431 http://fukata.org/?p=5431">2 Replies</span></a>				</div><!-- .comments-link -->
			        </header><!-- .entry-header -->

		<!-- .entry-summary -->
		<div class="entry-content">
			<div class='wp_social_bookmarking_light'>
            <div class="wsbl_hatena_button"><a href="//b.hatena.ne.jp/entry//archives/5431/" class="hatena-bookmark-button" data-hatena-bookmark-title="[CodeIgniter2.x]環境切り分けについて" data-hatena-bookmark-layout="simple-balloon" title="Bookmark this on Hatena Bookmark"> <img src="//b.hatena.ne.jp/images/entry-button/button-only@2x.png" alt="Bookmark this on Hatena Bookmark" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="//b.hatena.ne.jp/js/bookmark_button.js" charset="utf-8" async="async"></script></div>
            <div class="wsbl_facebook_share"><div id="fb-root"></div><div class="fb-share-button" data-href="/archives/5431/" data-type="button_count"></div></div>
            <div class="wsbl_twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="/archives/5431/" data-text="[CodeIgniter2.x]環境切り分けについて">Tweet</a></div>
            <div class="wsbl_line"><a href='http://line.me/R/msg/text/?%5BCodeIgniter2.x%5D%E7%92%B0%E5%A2%83%E5%88%87%E3%82%8A%E5%88%86%E3%81%91%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%0D%0A%2Farchives%2F5431%2F' title='LINEで送る' rel=nofollow class='wp_social_bookmarking_light_a' ><img src='/wp-content/plugins/wp-social-bookmarking-light/public/images/line88x20.png' alt='LINEで送る' title='LINEで送る' width='88' height='20' class='wp_social_bookmarking_light_img' /></a></div>
    </div>
<br class='wp_social_bookmarking_light_clear' />
<p>最近、趣味で作成しているWEBアプリでCodeIgniter 2を使っており、コア部分のソースを眺めていると環境別設定を切り分ける機構が導入されていたので少しソースを追ってみました。</p>
<p>結論から言えば、末端のindex.php内に定義されているENVIRONMENT定数の値をdevelopment,testing,productionのいずれかに変更するだけで、<br />
application/configに関して、下記のような構造で環境別に管理できるようになります。development,testing,productionに関しては、任意の値に変更可能ですが、その際はディレクトリ名も一緒に変更する必要があるので注意してください。</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>
<span style="color: #000000; font-weight: bold;">`</span>-- application
    <span style="color: #000000; font-weight: bold;">`</span>-- config
        <span style="color: #000000; font-weight: bold;">|</span>-- config.php         <span style="color: #666666; font-style: italic;"># ENVIRONMENTに指定されたディレクトリ内に見つからなかった場合に読み込まれる。</span>
        <span style="color: #000000; font-weight: bold;">|</span>-- development
        <span style="color: #000000; font-weight: bold;">|</span>   <span style="color: #000000; font-weight: bold;">`</span>-- config.php     <span style="color: #666666; font-style: italic;"># ENVIRONMENT=developmentの時、読み込まれる。</span>
        <span style="color: #000000; font-weight: bold;">|</span>-- testing
        <span style="color: #000000; font-weight: bold;">|</span>   <span style="color: #000000; font-weight: bold;">`</span>-- config.php     <span style="color: #666666; font-style: italic;"># ENVIRONMENT=testingの時、読み込まれる。</span>
        <span style="color: #000000; font-weight: bold;">`</span>-- production
            <span style="color: #000000; font-weight: bold;">`</span>-- config.php     <span style="color: #666666; font-style: italic;"># ENVIRONMENT=productionの時、読み込まれる。</span></pre></td></tr></table><p class="theCode" style="display:none;">./
`-- application
    `-- config
        |-- config.php         # ENVIRONMENTに指定されたディレクトリ内に見つからなかった場合に読み込まれる。
        |-- development
        |   `-- config.php     # ENVIRONMENT=developmentの時、読み込まれる。
        |-- testing
        |   `-- config.php     # ENVIRONMENT=testingの時、読み込まれる。
        `-- production
            `-- config.php     # ENVIRONMENT=productionの時、読み込まれる。</p></div>

<p>環境別設定は別ファイルで完全に分離しておいた方がリリース毎のミスなども少なくなり良いですよね。ていうか、CodeIgniter 1を使ってた時は自前で環境設定を切り替えるshellを書いちゃってました・・・。<del datetime="2011-03-24T02:27:37+00:00">もしかしたら1系の時からこの機構って提供されてたんでしょうか？もしかしたら1系にも同様の機構があるかも。と思い、軽くソースを追ってみたんですが、それらしいコードを見つけることができませんでした。</del>もし、1系でもデフォルトで可能であればそれを使うようにしたいところです。</p>
<p><strong>追記：2011.03.24</strong><br />
<a href="https://codeigniter.com/user_guide/changelog.html">Change Log : CodeIgniter User Guide</a>に2.0.1からという記載がありました。</p>
<p><span id="more-5431"></span>
<div class="ad_section"><div class="ad_title">広告</div><div class="ad_body"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- blog-content-bottom1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9703571485671477"
     data-ad-slot="4353022998"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div><br />
<div id="toc_container" class="no_bullets"><p class="toc_title">目次</p><ul class="toc_list"><li><a href="#i"><span class="toc_number toc_depth_1">1</span> 環境を識別する定数</a></li><li><a href="#ENVIRONMENT"><span class="toc_number toc_depth_1">2</span> ENVIRONMENT定数を利用している箇所</a></li><li><a href="#i-2"><span class="toc_number toc_depth_1">3</span> エラー出力の切り分け</a></li><li><a href="#i-3"><span class="toc_number toc_depth_1">4</span> 環境別設定ファイルの読込</a></li><li><a href="#i-4"><span class="toc_number toc_depth_1">5</span> ライブラリ初期化パラメータの環境別切り分け</a></li></ul></div>
</p>
<h2><span id="i">環境を識別する定数</span></h2>
<p><strong>/index.php</strong>の以下がまさにそれに当たります。<br />
ENVIRONMENT定数の値をdevelopment,testing, productionに書き換えれることにより環境別の設定が反映される仕組みのようです。</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">/*
 *---------------------------------------------------------------
 * APPLICATION ENVIRONMENT
 *---------------------------------------------------------------
 *
 * You can load different configurations depending on your
 * current environment. Setting the environment also influences
 * things like logging and error reporting.
 *
 * This can be set to anything, but default usage is:
 *
 *     development
 *     testing
 *     production
 *
 * NOTE: If you change these, also change the error_reporting() code below
 *
 */</span>
        <span style="color: #990000;">define</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'ENVIRONMENT'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'development'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></td></tr></table><p class="theCode" style="display:none;">/*
 *---------------------------------------------------------------
 * APPLICATION ENVIRONMENT
 *---------------------------------------------------------------
 *
 * You can load different configurations depending on your
 * current environment. Setting the environment also influences
 * things like logging and error reporting.
 *
 * This can be set to anything, but default usage is:
 *
 *     development
 *     testing
 *     production
 *
 * NOTE: If you change these, also change the error_reporting() code below
 *
 */
        define('ENVIRONMENT', 'development');</p></div>

<h2><span id="ENVIRONMENT">ENVIRONMENT定数を利用している箇所</span></h2>
<p>ソースを追う前のメモとしてENVIRONMENTという文字が含まれる箇所を出しました。<br />
この中から気になった部分について見ていきます。</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">find</span> .<span style="color: #000000; font-weight: bold;">/|</span><span style="color: #c20cb9; font-weight: bold;">xargs</span> <span style="color: #c20cb9; font-weight: bold;">grep</span> <span style="color: #660033;">-n</span> <span style="color: #ff0000;">'ENVIRONMENT'</span>
.<span style="color: #000000; font-weight: bold;">/</span>index.php:<span style="color: #000000;">5</span>: <span style="color: #000000; font-weight: bold;">*</span> APPLICATION ENVIRONMENT
.<span style="color: #000000; font-weight: bold;">/</span>index.php:<span style="color: #000000;">21</span>:	define<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #ff0000;">'ENVIRONMENT'</span>, <span style="color: #ff0000;">'development'</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>;
.<span style="color: #000000; font-weight: bold;">/</span>index.php:<span style="color: #000000;">31</span>:	switch <span style="color: #7a0874; font-weight: bold;">&#40;</span>ENVIRONMENT<span style="color: #7a0874; font-weight: bold;">&#41;</span>
.<span style="color: #000000; font-weight: bold;">/</span>system<span style="color: #000000; font-weight: bold;">/</span>core<span style="color: #000000; font-weight: bold;">/</span>Config.php:<span style="color: #000000;">88</span>:			<span style="color: #007800;">$file_path</span> = <span style="color: #007800;">$path</span>.<span style="color: #ff0000;">'config/'</span>.ENVIRONMENT.<span style="color: #ff0000;">'/'</span>.<span style="color: #007800;">$file</span>.EXT;
.<span style="color: #000000; font-weight: bold;">/</span>system<span style="color: #000000; font-weight: bold;">/</span>core<span style="color: #000000; font-weight: bold;">/</span>Config.php:<span style="color: #000000;">98</span>:				log_message<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #ff0000;">'debug'</span>, <span style="color: #ff0000;">'Config for '</span>.ENVIRONMENT.<span style="color: #ff0000;">' environment is not found. Trying global config.'</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>;
.<span style="color: #000000; font-weight: bold;">/</span>system<span style="color: #000000; font-weight: bold;">/</span>core<span style="color: #000000; font-weight: bold;">/</span>Config.php:<span style="color: #000000;">147</span>:			show_error<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #ff0000;">'The configuration file '</span>.ENVIRONMENT.<span style="color: #ff0000;">'/'</span>.<span style="color: #007800;">$file</span>.EXT.<span style="color: #ff0000;">' and '</span>.<span style="color: #007800;">$file</span>.EXT.<span style="color: #ff0000;">' do not exist.'</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>;
.<span style="color: #000000; font-weight: bold;">/</span>system<span style="color: #000000; font-weight: bold;">/</span>core<span style="color: #000000; font-weight: bold;">/</span>Loader.php:<span style="color: #000000;">885</span>:					<span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#40;</span>file_exists<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #007800;">$path</span> .<span style="color: #ff0000;">'config/'</span>.ENVIRONMENT.<span style="color: #ff0000;">'/'</span>.strtolower<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #007800;">$class</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>.EXT<span style="color: #7a0874; font-weight: bold;">&#41;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>
.<span style="color: #000000; font-weight: bold;">/</span>system<span style="color: #000000; font-weight: bold;">/</span>core<span style="color: #000000; font-weight: bold;">/</span>Loader.php:<span style="color: #000000;">887</span>:						include_once<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #007800;">$path</span> .<span style="color: #ff0000;">'config/'</span>.ENVIRONMENT.<span style="color: #ff0000;">'/'</span>.strtolower<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #007800;">$class</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>.EXT<span style="color: #7a0874; font-weight: bold;">&#41;</span>;
.<span style="color: #000000; font-weight: bold;">/</span>system<span style="color: #000000; font-weight: bold;">/</span>core<span style="color: #000000; font-weight: bold;">/</span>Loader.php:<span style="color: #000000;">890</span>:					elseif <span style="color: #7a0874; font-weight: bold;">&#40;</span>file_exists<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #007800;">$path</span> .<span style="color: #ff0000;">'config/'</span>.ENVIRONMENT.<span style="color: #ff0000;">'/'</span>.ucfirst<span style="color: #7a0874; font-weight: bold;">&#40;</span>strtolower<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #007800;">$class</span><span style="color: #7a0874; font-weight: bold;">&#41;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>.EXT<span style="color: #7a0874; font-weight: bold;">&#41;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>
.<span style="color: #000000; font-weight: bold;">/</span>system<span style="color: #000000; font-weight: bold;">/</span>core<span style="color: #000000; font-weight: bold;">/</span>Loader.php:<span style="color: #000000;">892</span>:						include_once<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #007800;">$path</span> .<span style="color: #ff0000;">'config/'</span>.ENVIRONMENT.<span style="color: #ff0000;">'/'</span>.ucfirst<span style="color: #7a0874; font-weight: bold;">&#40;</span>strtolower<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #007800;">$class</span><span style="color: #7a0874; font-weight: bold;">&#41;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>.EXT<span style="color: #7a0874; font-weight: bold;">&#41;</span>;
.<span style="color: #000000; font-weight: bold;">/</span>system<span style="color: #000000; font-weight: bold;">/</span>core<span style="color: #000000; font-weight: bold;">/</span>Common.php:<span style="color: #000000;">211</span>:		<span style="color: #007800;">$file_path</span> = APPPATH.<span style="color: #ff0000;">'config/'</span>.ENVIRONMENT.<span style="color: #ff0000;">'/config'</span>.EXT;
.<span style="color: #000000; font-weight: bold;">/</span>system<span style="color: #000000; font-weight: bold;">/</span>database<span style="color: #000000; font-weight: bold;">/</span>DB.php:<span style="color: #000000;">31</span>:		<span style="color: #007800;">$file_path</span> = APPPATH.<span style="color: #ff0000;">'config/'</span>.ENVIRONMENT.<span style="color: #ff0000;">'/database'</span>.EXT;
.<span style="color: #000000; font-weight: bold;">/</span>system<span style="color: #000000; font-weight: bold;">/</span>database<span style="color: #000000; font-weight: bold;">/</span>DB.php:<span style="color: #000000;">35</span>:			log_message<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #ff0000;">'debug'</span>, <span style="color: #ff0000;">'Database config for '</span>.ENVIRONMENT.<span style="color: #ff0000;">' environment is not found. Trying global config.'</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>;</pre></td></tr></table><p class="theCode" style="display:none;">find ./|xargs grep -n 'ENVIRONMENT'
./index.php:5: * APPLICATION ENVIRONMENT
./index.php:21:	define('ENVIRONMENT', 'development');
./index.php:31:	switch (ENVIRONMENT)
./system/core/Config.php:88:			$file_path = $path.'config/'.ENVIRONMENT.'/'.$file.EXT;
./system/core/Config.php:98:				log_message('debug', 'Config for '.ENVIRONMENT.' environment is not found. Trying global config.');
./system/core/Config.php:147:			show_error('The configuration file '.ENVIRONMENT.'/'.$file.EXT.' and '.$file.EXT.' do not exist.');
./system/core/Loader.php:885:					if (file_exists($path .'config/'.ENVIRONMENT.'/'.strtolower($class).EXT))
./system/core/Loader.php:887:						include_once($path .'config/'.ENVIRONMENT.'/'.strtolower($class).EXT);
./system/core/Loader.php:890:					elseif (file_exists($path .'config/'.ENVIRONMENT.'/'.ucfirst(strtolower($class)).EXT))
./system/core/Loader.php:892:						include_once($path .'config/'.ENVIRONMENT.'/'.ucfirst(strtolower($class)).EXT);
./system/core/Common.php:211:		$file_path = APPPATH.'config/'.ENVIRONMENT.'/config'.EXT;
./system/database/DB.php:31:		$file_path = APPPATH.'config/'.ENVIRONMENT.'/database'.EXT;
./system/database/DB.php:35:			log_message('debug', 'Database config for '.ENVIRONMENT.' environment is not found. Trying global config.');</p></div>

<h2><span id="i-2">エラー出力の切り分け</span></h2>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">/*
 *---------------------------------------------------------------
 * ERROR REPORTING
 *---------------------------------------------------------------
 *
 * Different environments will require different levels of error reporting.
 * By default development will show errors but testing and live will hide them.
 */</span>
&nbsp;
        <span style="color: #b1b100;">switch</span> <span style="color: #009900;">&#40;</span>ENVIRONMENT<span style="color: #009900;">&#41;</span>
        <span style="color: #009900;">&#123;</span>
                <span style="color: #b1b100;">case</span> <span style="color: #0000ff;">'development'</span><span style="color: #339933;">:</span>
                        <span style="color: #990000;">error_reporting</span><span style="color: #009900;">&#40;</span><span style="color: #009900; font-weight: bold;">E_ALL</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span>
&nbsp;
                <span style="color: #b1b100;">case</span> <span style="color: #0000ff;">'testing'</span><span style="color: #339933;">:</span>
                <span style="color: #b1b100;">case</span> <span style="color: #0000ff;">'production'</span><span style="color: #339933;">:</span>
                        <span style="color: #990000;">error_reporting</span><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span>
&nbsp;
                <span style="color: #b1b100;">default</span><span style="color: #339933;">:</span>
                        <span style="color: #990000;">exit</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'The application environment is not set correctly.'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span></pre></td></tr></table><p class="theCode" style="display:none;">/*
 *---------------------------------------------------------------
 * ERROR REPORTING
 *---------------------------------------------------------------
 *
 * Different environments will require different levels of error reporting.
 * By default development will show errors but testing and live will hide them.
 */

        switch (ENVIRONMENT)
        {
                case 'development':
                        error_reporting(E_ALL);
                break;

                case 'testing':
                case 'production':
                        error_reporting(0);
                break;

                default:
                        exit('The application environment is not set correctly.');
        }</p></div>

<h2><span id="i-3">環境別設定ファイルの読込</span></h2>
<p>下記は、<strong>system/core/Config.php</strong>の抜粋です。</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="php" style="font-family:monospace;">        <span style="color: #009933; font-style: italic;">/**
         * Load Config File
         *
         * @access      public
         * @param       string  the config file name
         * @param   boolean  if configuration values should be loaded into their own section
         * @param   boolean  true if errors should just return false, false if an error message should be displayed
         * @return      boolean if the file was loaded correctly
         */</span>
        <span style="color: #000000; font-weight: bold;">function</span> load<span style="color: #009900;">&#40;</span><span style="color: #000088;">$file</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #000088;">$use_sections</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">FALSE</span><span style="color: #339933;">,</span> <span style="color: #000088;">$fail_gracefully</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">FALSE</span><span style="color: #009900;">&#41;</span>
        <span style="color: #009900;">&#123;</span>
                <span style="color: #000088;">$file</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$file</span> <span style="color: #339933;">==</span> <span style="color: #0000ff;">''</span><span style="color: #009900;">&#41;</span> ? <span style="color: #0000ff;">'config'</span> <span style="color: #339933;">:</span> <span style="color: #990000;">str_replace</span><span style="color: #009900;">&#40;</span>EXT<span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #000088;">$file</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #000088;">$loaded</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">FALSE</span><span style="color: #339933;">;</span>
&nbsp;
                <span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&gt;</span>_config_paths <span style="color: #b1b100;">as</span> <span style="color: #000088;">$path</span><span style="color: #009900;">&#41;</span>
                <span style="color: #009900;">&#123;</span>
                        <span style="color: #000088;">$file_path</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$path</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'config/'</span><span style="color: #339933;">.</span>ENVIRONMENT<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span><span style="color: #000088;">$file</span><span style="color: #339933;">.</span>EXT<span style="color: #339933;">;</span>
&nbsp;
                        <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #990000;">in_array</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$file_path</span><span style="color: #339933;">,</span> <span style="color: #000088;">$this</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">is_loaded</span><span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">TRUE</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
                        <span style="color: #009900;">&#123;</span>
                                <span style="color: #000088;">$loaded</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">TRUE</span><span style="color: #339933;">;</span>
                                <span style="color: #b1b100;">continue</span><span style="color: #339933;">;</span>
                        <span style="color: #009900;">&#125;</span>
&nbsp;
                        <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span> <span style="color: #339933;">!</span> <span style="color: #990000;">file_exists</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$file_path</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
                        <span style="color: #009900;">&#123;</span>
                                log_message<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'debug'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Config for '</span><span style="color: #339933;">.</span>ENVIRONMENT<span style="color: #339933;">.</span><span style="color: #0000ff;">' environment is not found. Trying global config.'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                                <span style="color: #000088;">$file_path</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$path</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'config/'</span><span style="color: #339933;">.</span><span style="color: #000088;">$file</span><span style="color: #339933;">.</span>EXT<span style="color: #339933;">;</span>
&nbsp;
                                <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span> <span style="color: #339933;">!</span> <span style="color: #990000;">file_exists</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$file_path</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
                                <span style="color: #009900;">&#123;</span>
                                        <span style="color: #b1b100;">continue</span><span style="color: #339933;">;</span>
                                <span style="color: #009900;">&#125;</span>
                        <span style="color: #009900;">&#125;</span>
&nbsp;
                        <span style="color: #b1b100;">include</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$file_path</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></td></tr></table><p class="theCode" style="display:none;">        /**
         * Load Config File
         *
         * @access      public
         * @param       string  the config file name
         * @param   boolean  if configuration values should be loaded into their own section
         * @param   boolean  true if errors should just return false, false if an error message should be displayed
         * @return      boolean if the file was loaded correctly
         */
        function load($file = '', $use_sections = FALSE, $fail_gracefully = FALSE)
        {
                $file = ($file == '') ? 'config' : str_replace(EXT, '', $file);
                $loaded = FALSE;

                foreach ($this-&gt;_config_paths as $path)
                {
                        $file_path = $path.'config/'.ENVIRONMENT.'/'.$file.EXT;

                        if (in_array($file_path, $this-&gt;is_loaded, TRUE))
                        {
                                $loaded = TRUE;
                                continue;
                        }

                        if ( ! file_exists($file_path))
                        {
                                log_message('debug', 'Config for '.ENVIRONMENT.' environment is not found. Trying global config.');
                                $file_path = $path.'config/'.$file.EXT;

                                if ( ! file_exists($file_path))
                                {
                                        continue;
                                }
                        }

                        include($file_path);</p></div>

<p>$this->load->configなどで通常はapplication/config配下のファイルを読み込みますが、application/config/[ENVIRONMENT]/に読込対象の設定ファイルが存在すれば、読み込み、存在しなければ、通常のディレクトリである、application/config/から読み込むようになっています。これは、database.phpやconfig.phpなど予めCodeIgniterに含まれる設定ファイルでなくても、独自に定義した設定ファイルについても環境別ディレクトリ配下に配置すればそれを読み込むように出来ます。</p>
<p>下記は、config.phpを読み込む際の</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>
<span style="color: #000000; font-weight: bold;">`</span>-- application
    <span style="color: #000000; font-weight: bold;">|</span>-- cache
    <span style="color: #000000; font-weight: bold;">`</span>-- config
        <span style="color: #000000; font-weight: bold;">|</span>-- config.php         <span style="color: #666666; font-style: italic;"># ENVIRONMENTに指定されたディレクトリ内に見つからなかった場合に読み込まれる。</span>
        <span style="color: #000000; font-weight: bold;">|</span>-- development
        <span style="color: #000000; font-weight: bold;">|</span>   <span style="color: #000000; font-weight: bold;">`</span>-- config.php     <span style="color: #666666; font-style: italic;"># ENVIRONMENT=developmentの時、読み込まれる。</span>
        <span style="color: #000000; font-weight: bold;">|</span>-- testing
        <span style="color: #000000; font-weight: bold;">|</span>   <span style="color: #000000; font-weight: bold;">`</span>-- config.php     <span style="color: #666666; font-style: italic;"># ENVIRONMENT=testingの時、読み込まれる。</span>
        <span style="color: #000000; font-weight: bold;">`</span>-- production
            <span style="color: #000000; font-weight: bold;">`</span>-- config.php     <span style="color: #666666; font-style: italic;"># ENVIRONMENT=productionの時、読み込まれる。</span></pre></td></tr></table><p class="theCode" style="display:none;">./
`-- application
    |-- cache
    `-- config
        |-- config.php         # ENVIRONMENTに指定されたディレクトリ内に見つからなかった場合に読み込まれる。
        |-- development
        |   `-- config.php     # ENVIRONMENT=developmentの時、読み込まれる。
        |-- testing
        |   `-- config.php     # ENVIRONMENT=testingの時、読み込まれる。
        `-- production
            `-- config.php     # ENVIRONMENT=productionの時、読み込まれる。</p></div>

<h2><span id="i-4">ライブラリ初期化パラメータの環境別切り分け</span></h2>
<p>$this->load->libraryで読み込む際に第二引数に指定した値をライブラリの初期化時のパラメータを渡す事ができますが、何も指定しなかった場合、application/config配下に配置されているライブラリと同名のphpファイル内に定義された$config変数を初期化時のパラメータとして渡す事ができます。コレについてもconfigを読み込む際の条件が適用され、環境別の設定内容をライブラリの初期化時のパラメータとして渡す事ができます。</p>
<p>下記が、system/core/Loader.phpの該当部分のコードになります。CodeIgniter 2.0.1の時点では、Loader#_ci_init_classはLoader#libraryメソッド経由でのみ呼ばれているようです。</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="php" style="font-family:monospace;">        <span style="color: #009933; font-style: italic;">/**
         * Instantiates a class
         *
         * @access      private
         * @param       string
         * @param       string
         * @param       string  an optional object name
         * @return      null
         */</span>
        <span style="color: #000000; font-weight: bold;">function</span> _ ci_init_class<span style="color: #009900;">&#40;</span><span style="color: #000088;">$class</span><span style="color: #339933;">,</span> <span style="color: #000088;">$prefix</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #000088;">$config</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">FALSE</span><span style="color: #339933;">,</span> <span style="color: #000088;">$object_name</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span>
        <span style="color: #009900;">&#123;</span>
                <span style="color: #666666; font-style: italic;">// Is there an associated config file for this class?  Note: these should always be lowercase</span>
                <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$config</span> <span style="color: #339933;">===</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span>
                <span style="color: #009900;">&#123;</span>
                        <span style="color: #666666; font-style: italic;">// Fetch the config paths containing any package paths</span>
                        <span style="color: #000088;">$config_component</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$this</span><span style="color: #339933;">-&gt;</span>_ci_get_component<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'config'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
                        <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #990000;">is_array</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$config_component</span><span style="color: #339933;">-&gt;</span>_config_paths<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
                        <span style="color: #009900;">&#123;</span>
                                <span style="color: #666666; font-style: italic;">// Break on the first found file, thus package files</span>
                                <span style="color: #666666; font-style: italic;">// are not overridden by default paths</span>
                                <span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$config_component</span><span style="color: #339933;">-&gt;</span>_config_paths <span style="color: #b1b100;">as</span> <span style="color: #000088;">$path</span><span style="color: #009900;">&#41;</span>
                                <span style="color: #009900;">&#123;</span>
                                        <span style="color: #666666; font-style: italic;">// We test for both uppercase and lowercase, for servers that</span>
                                        <span style="color: #666666; font-style: italic;">// are case-sensitive with regard to file names. Check for environment</span>
                                        <span style="color: #666666; font-style: italic;">// first, global next</span>
                                        <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #990000;">file_exists</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'config/'</span><span style="color: #339933;">.</span>ENVIRONMENT<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span><span style="color: #990000;">strtolower</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$class</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>EXT<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
                                        <span style="color: #009900;">&#123;</span>
                                                <span style="color: #b1b100;">include_once</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'config/'</span><span style="color: #339933;">.</span>ENVIRONMENT<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span><span style="color: #990000;">strtolower</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$class</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>EXT<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                                                <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span>
                                        <span style="color: #009900;">&#125;</span>
                                        <span style="color: #b1b100;">elseif</span> <span style="color: #009900;">&#40;</span><span style="color: #990000;">file_exists</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'config/'</span><span style="color: #339933;">.</span>ENVIRONMENT<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span><span style="color: #990000;">ucfirst</span><span style="color: #009900;">&#40;</span><span style="color: #990000;">strtolower</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$class</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>EXT<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
                                        <span style="color: #009900;">&#123;</span>
                                                <span style="color: #b1b100;">include_once</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'config/'</span><span style="color: #339933;">.</span>ENVIRONMENT<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span><span style="color: #990000;">ucfirst</span><span style="color: #009900;">&#40;</span><span style="color: #990000;">strtolower</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$class</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>EXT<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                                                <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span>
                                        <span style="color: #009900;">&#125;</span>
                                        <span style="color: #b1b100;">elseif</span> <span style="color: #009900;">&#40;</span><span style="color: #990000;">file_exists</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'config/'</span><span style="color: #339933;">.</span><span style="color: #990000;">strtolower</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$class</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>EXT<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
                                        <span style="color: #009900;">&#123;</span>
                                                <span style="color: #b1b100;">include_once</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'config/'</span><span style="color: #339933;">.</span><span style="color: #990000;">strtolower</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$class</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>EXT<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                                                <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span>
                                        <span style="color: #009900;">&#125;</span>
                                        <span style="color: #b1b100;">elseif</span> <span style="color: #009900;">&#40;</span><span style="color: #990000;">file_exists</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'config/'</span><span style="color: #339933;">.</span><span style="color: #990000;">ucfirst</span><span style="color: #009900;">&#40;</span><span style="color: #990000;">strtolower</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$class</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>EXT<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
                                        <span style="color: #009900;">&#123;</span>
                                                <span style="color: #b1b100;">include_once</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'config/'</span><span style="color: #339933;">.</span><span style="color: #990000;">ucfirst</span><span style="color: #009900;">&#40;</span><span style="color: #990000;">strtolower</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$class</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>EXT<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                                                <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span>
                                        <span style="color: #009900;">&#125;</span>
                                <span style="color: #009900;">&#125;</span>
                        <span style="color: #009900;">&#125;</span>
                <span style="color: #009900;">&#125;</span></pre></td></tr></table><p class="theCode" style="display:none;">        /**
         * Instantiates a class
         *
         * @access      private
         * @param       string
         * @param       string
         * @param       string  an optional object name
         * @return      null
         */
        function _ ci_init_class($class, $prefix = '', $config = FALSE, $object_name = NULL)
        {
                // Is there an associated config file for this class?  Note: these should always be lowercase
                if ($config === NULL)
                {
                        // Fetch the config paths containing any package paths
                        $config_component = $this-&gt;_ci_get_component('config');

                        if (is_array($config_component-&gt;_config_paths))
                        {
                                // Break on the first found file, thus package files
                                // are not overridden by default paths
                                foreach ($config_component-&gt;_config_paths as $path)
                                {
                                        // We test for both uppercase and lowercase, for servers that
                                        // are case-sensitive with regard to file names. Check for environment
                                        // first, global next
                                        if (file_exists($path .'config/'.ENVIRONMENT.'/'.strtolower($class).EXT))
                                        {
                                                include_once($path .'config/'.ENVIRONMENT.'/'.strtolower($class).EXT);
                                                break;
                                        }
                                        elseif (file_exists($path .'config/'.ENVIRONMENT.'/'.ucfirst(strtolower($class)).EXT))
                                        {
                                                include_once($path .'config/'.ENVIRONMENT.'/'.ucfirst(strtolower($class)).EXT);
                                                break;
                                        }
                                        elseif (file_exists($path .'config/'.strtolower($class).EXT))
                                        {
                                                include_once($path .'config/'.strtolower($class).EXT);
                                                break;
                                        }
                                        elseif (file_exists($path .'config/'.ucfirst(strtolower($class)).EXT))
                                        {
                                                include_once($path .'config/'.ucfirst(strtolower($class)).EXT);
                                                break;
                                        }
                                }
                        }
                }</p></div>

<p>ユーザガイドを読んでいないだけかもしれませんが、CodeIgniterのソースはさほど大きくなく、読むのに苦労しないので興味のある方は是非一度読んでみてはいかがでしょうか。</p>
			              <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- blog-content-bottom2 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9703571485671477"
     data-ad-slot="9222206294"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>  <h2>関連記事</h2>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-9703571485671477"
     data-ad-slot="9505713061"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>		</div><!-- .entry-content -->

        
				<footer class="entry-meta">
			This entry was posted in <a href="/archives/category/dev/" rel="category tag">開発</a> and tagged <a href="/archives/tag/codeigniter-2-x/" rel="tag">CodeIgniter 2.x</a> on <a href="/archives/5431/" title="17:30" rel="bookmark"><time class="entry-date" datetime="2011-03-18T17:30:01+00:00">2011-03-18</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="/archives/author/fukata/" title="View all posts by fukata" rel="author">fukata</a></span></span>.								</footer><!-- .entry-meta -->
        	</article><!-- #post -->

				<nav class="nav-single">
					<h3 class="assistive-text">Post navigation</h3>
					<span class="nav-previous"><a href="/archives/5427/" rel="prev"><span class="meta-nav">&larr;</span> [jQuery]jsloaderのバージョン1.1.0をリリース</a></span>
					<span class="nav-next"><a href="/archives/5454/" rel="next">[CodeIgniter2.x]Cacheの利用について <span class="meta-nav">&rarr;</span></a></span>
				</nav><!-- .nav-single -->

				
<div id="disqus_thread"></div>

			
		</div><!-- #content -->
	</div><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
			
		<aside id="recent-posts-3" class="widget widget_recent_entries">
		<h3 class="widget-title">Recent Posts</h3>
		<ul>
											<li>
					<a href="/archives/9629/">New XPS 13(9370)を半年以上使ってみた感想</a>
									</li>
											<li>
					<a href="/archives/9625/">2018年の振り返り</a>
									</li>
											<li>
					<a href="/archives/9613/">Vue.jsでbeforeunloadを正しく実装する</a>
									</li>
											<li>
					<a href="/archives/9605/">Nuxt.js(@nuxtjs/auth)とRails(omniauth)でTwitterとOAuth認証を行う方法</a>
									</li>
											<li>
					<a href="/archives/9601/">JavaScriptからGoogle Adsenseを動的に表示する方法</a>
									</li>
											<li>
					<a href="/archives/9595/">Windows10でSteamが突然落ちる問題を解決する方法</a>
									</li>
											<li>
					<a href="/archives/9574/">開発マシンをNew XPS 13(9370)にした</a>
									</li>
											<li>
					<a href="/archives/9581/">Saigon Cup 2018を観戦してきた</a>
									</li>
											<li>
					<a href="/archives/9566/">Android One端末の「Xiaomi Mi A1」を2.3万円弱でゲットした</a>
									</li>
											<li>
					<a href="/archives/9556/">バンコクで開催された「Thaiger Uppercut 2018」を観戦してきた</a>
									</li>
					</ul>

		</aside><aside id="tag_cloud-3" class="widget widget_tag_cloud"><h3 class="widget-title">Tags</h3><div class="tagcloud"><a href="/archives/tag/blackberry/" class="tag-cloud-link tag-link-282 tag-link-position-1" style="font-size: 11.36pt;" aria-label="BlackBerry (17 items)">BlackBerry</a>
<a href="/archives/tag/cafebar-petit-plum/" class="tag-cloud-link tag-link-1494 tag-link-position-2" style="font-size: 10.333333333333pt;" aria-label="Cafe+bar Petit plum (13 items)">Cafe+bar Petit plum</a>
<a href="/archives/tag/codeigniter/" class="tag-cloud-link tag-link-153 tag-link-position-3" style="font-size: 9.96pt;" aria-label="CodeIgniter (12 items)">CodeIgniter</a>
<a href="/archives/tag/codeigniter-2-x/" class="tag-cloud-link tag-link-850 tag-link-position-4" style="font-size: 11.08pt;" aria-label="CodeIgniter 2.x (16 items)">CodeIgniter 2.x</a>
<a href="/archives/tag/gr/" class="tag-cloud-link tag-link-1184 tag-link-position-5" style="font-size: 8.9333333333333pt;" aria-label="GR (9 items)">GR</a>
<a href="/archives/tag/jcommunity/" class="tag-cloud-link tag-link-341 tag-link-position-6" style="font-size: 9.3066666666667pt;" aria-label="JCommunity (10 items)">JCommunity</a>
<a href="/archives/tag/motorola-milestone/" class="tag-cloud-link tag-link-801 tag-link-position-7" style="font-size: 8.9333333333333pt;" aria-label="Motorola Milestone (9 items)">Motorola Milestone</a>
<a href="/archives/tag/osse/" class="tag-cloud-link tag-link-1716 tag-link-position-8" style="font-size: 9.96pt;" aria-label="OSSE (12 items)">OSSE</a>
<a href="/archives/tag/release/" class="tag-cloud-link tag-link-880 tag-link-position-9" style="font-size: 16.96pt;" aria-label="Release (72 items)">Release</a>
<a href="/archives/tag/ricoh/" class="tag-cloud-link tag-link-1148 tag-link-position-10" style="font-size: 9.3066666666667pt;" aria-label="RICOH (10 items)">RICOH</a>
<a href="/archives/tag/serversmanvps/" class="tag-cloud-link tag-link-738 tag-link-position-11" style="font-size: 8.9333333333333pt;" aria-label="ServersMan@VPS (9 items)">ServersMan@VPS</a>
<a href="/archives/tag/sukhumvit/" class="tag-cloud-link tag-link-1253 tag-link-position-12" style="font-size: 11.08pt;" aria-label="Sukhumvit (16 items)">Sukhumvit</a>
<a href="/archives/tag/ubuntu/" class="tag-cloud-link tag-link-23 tag-link-position-13" style="font-size: 9.3066666666667pt;" aria-label="ubuntu (10 items)">ubuntu</a>
<a href="/archives/tag/wp-flickr-press/" class="tag-cloud-link tag-link-819 tag-link-position-14" style="font-size: 17.053333333333pt;" aria-label="wp-flickr-press (73 items)">wp-flickr-press</a>
<a href="/archives/tag/%e3%82%ab%e3%83%95%e3%82%a7/" class="tag-cloud-link tag-link-1366 tag-link-position-15" style="font-size: 9.96pt;" aria-label="カフェ (12 items)">カフェ</a>
<a href="/archives/tag/%e3%82%ab%e3%83%ac%e3%83%bc/" class="tag-cloud-link tag-link-303 tag-link-position-16" style="font-size: 10.613333333333pt;" aria-label="カレー (14 items)">カレー</a>
<a href="/archives/tag/%e3%82%ab%e3%83%b3%e3%83%9c%e3%82%b8%e3%82%a2/" class="tag-cloud-link tag-link-1272 tag-link-position-17" style="font-size: 9.3066666666667pt;" aria-label="カンボジア (10 items)">カンボジア</a>
<a href="/archives/tag/%e3%82%b5%e3%83%a0%e3%83%83%e3%83%88%e3%83%97%e3%83%a9%e3%82%ab%e3%83%bc%e3%83%b3/" class="tag-cloud-link tag-link-1275 tag-link-position-18" style="font-size: 12.48pt;" aria-label="サムットプラカーン (23 items)">サムットプラカーン</a>
<a href="/archives/tag/%e3%82%bf%e3%82%a4/" class="tag-cloud-link tag-link-1057 tag-link-position-19" style="font-size: 19.853333333333pt;" aria-label="タイ (147 items)">タイ</a>
<a href="/archives/tag/%e3%82%bf%e3%82%a4%e6%96%99%e7%90%86/" class="tag-cloud-link tag-link-1887 tag-link-position-20" style="font-size: 8.4666666666667pt;" aria-label="タイ料理 (8 items)">タイ料理</a>
<a href="/archives/tag/%e3%83%90%e3%83%b3%e3%82%b3%e3%82%af/" class="tag-cloud-link tag-link-1058 tag-link-position-21" style="font-size: 15.746666666667pt;" aria-label="バンコク (53 items)">バンコク</a>
<a href="/archives/tag/%e3%83%9b%e3%83%86%e3%83%ab/" class="tag-cloud-link tag-link-123 tag-link-position-22" style="font-size: 9.96pt;" aria-label="ホテル (12 items)">ホテル</a>
<a href="/archives/tag/%e3%83%a9%e3%82%aa%e3%82%b9/" class="tag-cloud-link tag-link-1285 tag-link-position-23" style="font-size: 11.36pt;" aria-label="ラオス (17 items)">ラオス</a>
<a href="/archives/tag/%e3%83%a9%e3%83%b3%e3%83%81/" class="tag-cloud-link tag-link-74 tag-link-position-24" style="font-size: 14.533333333333pt;" aria-label="ランチ (39 items)">ランチ</a>
<a href="/archives/tag/%e3%83%ab%e3%82%a2%e3%83%b3%e3%83%91%e3%83%90%e3%83%bc%e3%83%b3/" class="tag-cloud-link tag-link-1435 tag-link-position-25" style="font-size: 9.3066666666667pt;" aria-label="ルアンパバーン (10 items)">ルアンパバーン</a>
<a href="/archives/tag/%e4%b8%89%e8%bb%92%e8%8c%b6%e5%b1%8b/" class="tag-cloud-link tag-link-1609 tag-link-position-26" style="font-size: 8.9333333333333pt;" aria-label="三軒茶屋 (9 items)">三軒茶屋</a>
<a href="/archives/tag/%e4%b8%8a%e6%b5%b7/" class="tag-cloud-link tag-link-53 tag-link-position-27" style="font-size: 8.4666666666667pt;" aria-label="上海 (8 items)">上海</a>
<a href="/archives/tag/%e4%b8%8b%e5%8c%97%e6%b2%a2/" class="tag-cloud-link tag-link-1588 tag-link-position-28" style="font-size: 11.08pt;" aria-label="下北沢 (16 items)">下北沢</a>
<a href="/archives/tag/%e5%8c%97%e6%b5%b7%e9%81%93/" class="tag-cloud-link tag-link-1164 tag-link-position-29" style="font-size: 9.96pt;" aria-label="北海道 (12 items)">北海道</a>
<a href="/archives/tag/%e5%a4%96%e9%a3%9f/" class="tag-cloud-link tag-link-1982 tag-link-position-30" style="font-size: 22pt;" aria-label="外食 (248 items)">外食</a>
<a href="/archives/tag/%e5%af%bf%e5%8f%b8/" class="tag-cloud-link tag-link-1513 tag-link-position-31" style="font-size: 8.4666666666667pt;" aria-label="寿司 (8 items)">寿司</a>
<a href="/archives/tag/%e6%97%85%e8%a1%8c/" class="tag-cloud-link tag-link-1165 tag-link-position-32" style="font-size: 9.68pt;" aria-label="旅行 (11 items)">旅行</a>
<a href="/archives/tag/%e6%97%a5%e6%9c%ac/" class="tag-cloud-link tag-link-1455 tag-link-position-33" style="font-size: 21.066666666667pt;" aria-label="日本 (198 items)">日本</a>
<a href="/archives/tag/%e6%9c%ad%e5%b9%8c/" class="tag-cloud-link tag-link-714 tag-link-position-34" style="font-size: 9.3066666666667pt;" aria-label="札幌 (10 items)">札幌</a>
<a href="/archives/tag/%e6%9d%b1%e4%ba%ac/" class="tag-cloud-link tag-link-131 tag-link-position-35" style="font-size: 20.413333333333pt;" aria-label="東京 (170 items)">東京</a>
<a href="/archives/tag/%e6%9d%b1%e5%8d%97%e3%82%a2%e3%82%b8%e3%82%a2/" class="tag-cloud-link tag-link-1130 tag-link-position-36" style="font-size: 20.693333333333pt;" aria-label="東南アジア (181 items)">東南アジア</a>
<a href="/archives/tag/%e6%a9%9f%e6%9d%90/" class="tag-cloud-link tag-link-1983 tag-link-position-37" style="font-size: 11.733333333333pt;" aria-label="機材 (19 items)">機材</a>
<a href="/archives/tag/%e6%b8%8b%e8%b0%b7/" class="tag-cloud-link tag-link-1162 tag-link-position-38" style="font-size: 10.613333333333pt;" aria-label="渋谷 (14 items)">渋谷</a>
<a href="/archives/tag/%e7%a6%8f%e5%b2%a1/" class="tag-cloud-link tag-link-27 tag-link-position-39" style="font-size: 8.4666666666667pt;" aria-label="福岡 (8 items)">福岡</a>
<a href="/archives/tag/%e7%b5%8c%e5%a0%82/" class="tag-cloud-link tag-link-1507 tag-link-position-40" style="font-size: 12.666666666667pt;" aria-label="経堂 (24 items)">経堂</a>
<a href="/archives/tag/%e8%87%aa%e7%82%8a/" class="tag-cloud-link tag-link-1981 tag-link-position-41" style="font-size: 8.4666666666667pt;" aria-label="自炊 (8 items)">自炊</a>
<a href="/archives/tag/%e8%a1%a8%e5%8f%82%e9%81%93/" class="tag-cloud-link tag-link-1486 tag-link-position-42" style="font-size: 12.76pt;" aria-label="表参道 (25 items)">表参道</a>
<a href="/archives/tag/%e8%b1%aa%e5%be%b3%e5%af%ba/" class="tag-cloud-link tag-link-1483 tag-link-position-43" style="font-size: 13.413333333333pt;" aria-label="豪徳寺 (29 items)">豪徳寺</a>
<a href="/archives/tag/%e8%b2%b7%e3%81%84%e7%89%a9/" class="tag-cloud-link tag-link-1319 tag-link-position-44" style="font-size: 12.293333333333pt;" aria-label="買い物 (22 items)">買い物</a>
<a href="/archives/tag/%e9%81%ba%e8%b7%a1/" class="tag-cloud-link tag-link-1283 tag-link-position-45" style="font-size: 8pt;" aria-label="遺跡 (7 items)">遺跡</a></div>
</aside><aside id="categories-281282962" class="widget widget_categories"><h3 class="widget-title">Categories</h3>
			<ul>
					<li class="cat-item cat-item-1137"><a href="/archives/category/camera/">カメラ</a> (52)
</li>
	<li class="cat-item cat-item-1278"><a href="/archives/category/travel/">旅行</a> (140)
</li>
	<li class="cat-item cat-item-1980"><a href="/archives/category/dev/">開発</a> (306)
</li>
	<li class="cat-item cat-item-1156"><a href="/archives/category/note/">雑記</a> (148)
</li>
	<li class="cat-item cat-item-1482"><a href="/archives/category/eating/">食事</a> (261)
</li>
			</ul>

			</aside><aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">Archives</h3>		<label class="screen-reader-text" for="archives-dropdown-2">Archives</label>
		<select id="archives-dropdown-2" name="archive-dropdown">
			
			<option value="">Select Month</option>
				<option value='/archives/date/2018/12/'> December 2018 &nbsp;(2)</option>
	<option value='/archives/date/2018/11/'> November 2018 &nbsp;(3)</option>
	<option value='/archives/date/2018/06/'> June 2018 &nbsp;(2)</option>
	<option value='/archives/date/2018/05/'> May 2018 &nbsp;(1)</option>
	<option value='/archives/date/2018/03/'> March 2018 &nbsp;(7)</option>
	<option value='/archives/date/2018/02/'> February 2018 &nbsp;(4)</option>
	<option value='/archives/date/2018/01/'> January 2018 &nbsp;(8)</option>
	<option value='/archives/date/2017/12/'> December 2017 &nbsp;(11)</option>
	<option value='/archives/date/2017/11/'> November 2017 &nbsp;(4)</option>
	<option value='/archives/date/2017/10/'> October 2017 &nbsp;(11)</option>
	<option value='/archives/date/2017/09/'> September 2017 &nbsp;(12)</option>
	<option value='/archives/date/2017/08/'> August 2017 &nbsp;(10)</option>
	<option value='/archives/date/2017/07/'> July 2017 &nbsp;(3)</option>
	<option value='/archives/date/2017/06/'> June 2017 &nbsp;(6)</option>
	<option value='/archives/date/2017/04/'> April 2017 &nbsp;(3)</option>
	<option value='/archives/date/2017/03/'> March 2017 &nbsp;(11)</option>
	<option value='/archives/date/2017/02/'> February 2017 &nbsp;(2)</option>
	<option value='/archives/date/2017/01/'> January 2017 &nbsp;(4)</option>
	<option value='/archives/date/2016/12/'> December 2016 &nbsp;(12)</option>
	<option value='/archives/date/2016/11/'> November 2016 &nbsp;(3)</option>
	<option value='/archives/date/2016/08/'> August 2016 &nbsp;(2)</option>
	<option value='/archives/date/2016/07/'> July 2016 &nbsp;(6)</option>
	<option value='/archives/date/2016/06/'> June 2016 &nbsp;(15)</option>
	<option value='/archives/date/2016/05/'> May 2016 &nbsp;(36)</option>
	<option value='/archives/date/2016/04/'> April 2016 &nbsp;(14)</option>
	<option value='/archives/date/2016/03/'> March 2016 &nbsp;(14)</option>
	<option value='/archives/date/2016/02/'> February 2016 &nbsp;(12)</option>
	<option value='/archives/date/2016/01/'> January 2016 &nbsp;(13)</option>
	<option value='/archives/date/2015/12/'> December 2015 &nbsp;(3)</option>
	<option value='/archives/date/2015/11/'> November 2015 &nbsp;(6)</option>
	<option value='/archives/date/2015/08/'> August 2015 &nbsp;(3)</option>
	<option value='/archives/date/2015/07/'> July 2015 &nbsp;(5)</option>
	<option value='/archives/date/2015/06/'> June 2015 &nbsp;(9)</option>
	<option value='/archives/date/2015/05/'> May 2015 &nbsp;(4)</option>
	<option value='/archives/date/2015/04/'> April 2015 &nbsp;(3)</option>
	<option value='/archives/date/2015/03/'> March 2015 &nbsp;(1)</option>
	<option value='/archives/date/2015/02/'> February 2015 &nbsp;(3)</option>
	<option value='/archives/date/2015/01/'> January 2015 &nbsp;(3)</option>
	<option value='/archives/date/2014/12/'> December 2014 &nbsp;(1)</option>
	<option value='/archives/date/2014/11/'> November 2014 &nbsp;(3)</option>
	<option value='/archives/date/2014/09/'> September 2014 &nbsp;(5)</option>
	<option value='/archives/date/2014/08/'> August 2014 &nbsp;(6)</option>
	<option value='/archives/date/2014/07/'> July 2014 &nbsp;(6)</option>
	<option value='/archives/date/2014/06/'> June 2014 &nbsp;(2)</option>
	<option value='/archives/date/2014/05/'> May 2014 &nbsp;(12)</option>
	<option value='/archives/date/2014/04/'> April 2014 &nbsp;(8)</option>
	<option value='/archives/date/2014/03/'> March 2014 &nbsp;(15)</option>
	<option value='/archives/date/2014/02/'> February 2014 &nbsp;(2)</option>
	<option value='/archives/date/2014/01/'> January 2014 &nbsp;(12)</option>
	<option value='/archives/date/2013/12/'> December 2013 &nbsp;(19)</option>
	<option value='/archives/date/2013/11/'> November 2013 &nbsp;(1)</option>
	<option value='/archives/date/2013/09/'> September 2013 &nbsp;(7)</option>
	<option value='/archives/date/2013/08/'> August 2013 &nbsp;(15)</option>
	<option value='/archives/date/2013/07/'> July 2013 &nbsp;(19)</option>
	<option value='/archives/date/2013/06/'> June 2013 &nbsp;(26)</option>
	<option value='/archives/date/2013/05/'> May 2013 &nbsp;(13)</option>
	<option value='/archives/date/2013/04/'> April 2013 &nbsp;(9)</option>
	<option value='/archives/date/2013/03/'> March 2013 &nbsp;(10)</option>
	<option value='/archives/date/2013/02/'> February 2013 &nbsp;(14)</option>
	<option value='/archives/date/2013/01/'> January 2013 &nbsp;(4)</option>
	<option value='/archives/date/2012/12/'> December 2012 &nbsp;(5)</option>
	<option value='/archives/date/2012/11/'> November 2012 &nbsp;(14)</option>
	<option value='/archives/date/2012/10/'> October 2012 &nbsp;(5)</option>
	<option value='/archives/date/2012/09/'> September 2012 &nbsp;(18)</option>
	<option value='/archives/date/2012/08/'> August 2012 &nbsp;(8)</option>
	<option value='/archives/date/2012/07/'> July 2012 &nbsp;(25)</option>
	<option value='/archives/date/2012/06/'> June 2012 &nbsp;(18)</option>
	<option value='/archives/date/2012/05/'> May 2012 &nbsp;(13)</option>
	<option value='/archives/date/2012/04/'> April 2012 &nbsp;(2)</option>
	<option value='/archives/date/2012/03/'> March 2012 &nbsp;(3)</option>
	<option value='/archives/date/2012/02/'> February 2012 &nbsp;(13)</option>
	<option value='/archives/date/2012/01/'> January 2012 &nbsp;(7)</option>
	<option value='/archives/date/2011/12/'> December 2011 &nbsp;(12)</option>
	<option value='/archives/date/2011/11/'> November 2011 &nbsp;(16)</option>
	<option value='/archives/date/2011/10/'> October 2011 &nbsp;(21)</option>
	<option value='/archives/date/2011/09/'> September 2011 &nbsp;(9)</option>
	<option value='/archives/date/2011/08/'> August 2011 &nbsp;(5)</option>
	<option value='/archives/date/2011/07/'> July 2011 &nbsp;(4)</option>
	<option value='/archives/date/2011/06/'> June 2011 &nbsp;(16)</option>
	<option value='/archives/date/2011/05/'> May 2011 &nbsp;(5)</option>
	<option value='/archives/date/2011/04/'> April 2011 &nbsp;(12)</option>
	<option value='/archives/date/2011/03/'> March 2011 &nbsp;(11)</option>
	<option value='/archives/date/2011/02/'> February 2011 &nbsp;(4)</option>
	<option value='/archives/date/2011/01/'> January 2011 &nbsp;(5)</option>
	<option value='/archives/date/2010/12/'> December 2010 &nbsp;(6)</option>
	<option value='/archives/date/2010/11/'> November 2010 &nbsp;(12)</option>
	<option value='/archives/date/2010/10/'> October 2010 &nbsp;(5)</option>
	<option value='/archives/date/2010/09/'> September 2010 &nbsp;(6)</option>
	<option value='/archives/date/2010/08/'> August 2010 &nbsp;(3)</option>
	<option value='/archives/date/2010/07/'> July 2010 &nbsp;(6)</option>
	<option value='/archives/date/2010/06/'> June 2010 &nbsp;(2)</option>
	<option value='/archives/date/2010/05/'> May 2010 &nbsp;(14)</option>
	<option value='/archives/date/2010/04/'> April 2010 &nbsp;(5)</option>
	<option value='/archives/date/2010/03/'> March 2010 &nbsp;(5)</option>
	<option value='/archives/date/2010/02/'> February 2010 &nbsp;(10)</option>
	<option value='/archives/date/2010/01/'> January 2010 &nbsp;(8)</option>
	<option value='/archives/date/2009/12/'> December 2009 &nbsp;(5)</option>
	<option value='/archives/date/2009/11/'> November 2009 &nbsp;(8)</option>
	<option value='/archives/date/2009/10/'> October 2009 &nbsp;(8)</option>
	<option value='/archives/date/2009/09/'> September 2009 &nbsp;(3)</option>
	<option value='/archives/date/2009/08/'> August 2009 &nbsp;(2)</option>
	<option value='/archives/date/2009/07/'> July 2009 &nbsp;(11)</option>
	<option value='/archives/date/2009/06/'> June 2009 &nbsp;(7)</option>
	<option value='/archives/date/2009/05/'> May 2009 &nbsp;(11)</option>
	<option value='/archives/date/2009/04/'> April 2009 &nbsp;(2)</option>
	<option value='/archives/date/2009/03/'> March 2009 &nbsp;(1)</option>
	<option value='/archives/date/2009/01/'> January 2009 &nbsp;(3)</option>
	<option value='/archives/date/2008/12/'> December 2008 &nbsp;(1)</option>
	<option value='/archives/date/2008/11/'> November 2008 &nbsp;(3)</option>
	<option value='/archives/date/2008/10/'> October 2008 &nbsp;(2)</option>
	<option value='/archives/date/2008/09/'> September 2008 &nbsp;(1)</option>
	<option value='/archives/date/2008/08/'> August 2008 &nbsp;(2)</option>
	<option value='/archives/date/2008/07/'> July 2008 &nbsp;(3)</option>
	<option value='/archives/date/2008/05/'> May 2008 &nbsp;(4)</option>
	<option value='/archives/date/2008/04/'> April 2008 &nbsp;(2)</option>
	<option value='/archives/date/2008/03/'> March 2008 &nbsp;(4)</option>
	<option value='/archives/date/2008/02/'> February 2008 &nbsp;(5)</option>
	<option value='/archives/date/2008/01/'> January 2008 &nbsp;(1)</option>
	<option value='/archives/date/2007/12/'> December 2007 &nbsp;(2)</option>
	<option value='/archives/date/2007/11/'> November 2007 &nbsp;(1)</option>
	<option value='/archives/date/2007/10/'> October 2007 &nbsp;(1)</option>
	<option value='/archives/date/2007/09/'> September 2007 &nbsp;(1)</option>

		</select>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "archives-dropdown-2" );
	function onSelectChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value !== '' ) {
			document.location.href = this.options[ this.selectedIndex ].value;
		}
	}
	dropdown.onchange = onSelectChange;
})();
/* ]]> */
</script>
			</aside>		</div><!-- #secondary -->
		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info">
            Powered by WordPress 5.6, PHP: 7.1.12		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->


<!-- BEGIN: WP Social Bookmarking Light FOOTER -->
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<!-- END: WP Social Bookmarking Light FOOTER -->
<script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"fukata"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/disqus-comment-system/public/js/comment_count.js?ver=3.0.17' id='disqus_count-js'></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.17"},"disqusIdentifier":"5431 http:\/\/fukata.org\/?p=5431","disqusShortname":"fukata","disqusTitle":"[CodeIgniter2.x]\u74b0\u5883\u5207\u308a\u5206\u3051\u306b\u3064\u3044\u3066","disqusUrl":"\/archives\/5431\/","postId":"5431"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/disqus-comment-system/public/js/comment_embed.js?ver=3.0.17' id='disqus_embed-js'></script>
<script type='text/javascript' id='toc-front-js-extra'>
/* <![CDATA[ */
var tocplus = {"smooth_scroll":"1","visibility_show":"\u8868\u793a","visibility_hide":"\u975e\u8868\u793a","width":"100%"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/table-of-contents-plus/front.min.js?ver=1509' id='toc-front-js'></script>
<script type='text/javascript' src='/wp-content/plugins/wp-syntax/js/wp-syntax.js?ver=1.1' id='wp-syntax-js-js'></script>
<script type='text/javascript' src='/wp-includes/js/comment-reply.min.js?ver=5.6' id='comment-reply-js'></script>
<script type='text/javascript' src='/wp-content/themes/subblog_v2/js/navigation.js?ver=1.0' id='twentytwelve-navigation-js'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=5.6' id='wp-embed-js'></script>
</body>
</html>